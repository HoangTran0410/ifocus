const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./components/background-CSCWzm4a.js","./vendor-Do42_EDI.js","./components/timer-B2rwp6Pt.js","./components/audiocontroller-CcIbPdMQ.js","./components/tasks-Tz0-c-37.js","./components/pipcontent-BgacYp7S.js","./components/notes-pjEMvGM9.js","./components/sceneselector-BFZD8TfM.js","./components/effectsselector-BnFY8TLk.js","./components/visualizer-B5qi-cOe.js","./visualizers/index-G4oQF-OW.js","./visualizers/renderer-4zxM2zHw.js","./visualizers/utils-DsFqD6CR.js"])))=>i.map(i=>d[i]);
import{B as re,D as ae,j as s,L as ie,l as M,r as w,a as ne,u as ue,E as le,G as ce,I as de,J as W,K as Z,M as J,N as Q,c as X,X as me,O as pe,Q as he}from"./vendor-Do42_EDI.js";import"./index--P0sXsZG.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const fe="modulepreload",ye=function(e,a){return new URL(e,a).href},Y={},l=function(a,t,r){let i=Promise.resolve();if(t&&t.length>0){let n=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),_=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=n(t.map(p=>{if(p=ye(p,r),p in Y)return;Y[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(!!r)for(let S=h.length-1;S>=0;S--){const T=h[S];if(T.href===p&&(!v||T.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${x}`))return;const d=document.createElement("link");if(d.rel=v?"stylesheet":fe,v||(d.as="script"),d.crossOrigin="",d.href=p,_&&d.setAttribute("nonce",_),document.head.appendChild(d),v)return new Promise((S,T)=>{d.addEventListener("load",S),d.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(n){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=n,window.dispatchEvent(h),!h.defaultPrevented)throw n}return i.then(n=>{for(const h of n||[])h.status==="rejected"&&o(h.reason);return a().catch(o)})},Lt={pomodoro:1500,shortBreak:300,longBreak:900,clock:0,stopwatch:0},be={blur:0,brightness:100,contrast:100,grayscale:0,hueRotate:0,invert:0,opacity:100,saturate:100,sepia:0},ge={enabled:!1,intensity:.12,speed:.15},we=[{id:"forest-fog",type:"image",url:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=150&auto=format&fit=crop",name:"Foggy Forest"},{id:"rain-window",type:"image",url:"https://images.unsplash.com/photo-1515694346937-94d85e41e6f0?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1515694346937-94d85e41e6f0?w=150&auto=format&fit=crop",name:"Rainy Window"},{id:"coffee-shop",type:"image",url:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=150&auto=format&fit=crop",name:"Coffee Shop"},{id:"japan-street",type:"image",url:"https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=150&auto=format&fit=crop",name:"Tokyo Street"},{id:"train-journey",type:"image",url:"https://images.unsplash.com/photo-1531266752426-aad472b7bbf4?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1531266752426-aad472b7bbf4?w=150&auto=format&fit=crop",name:"Train Journey"},{id:"beach-sunset",type:"image",url:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=150&auto=format&fit=crop",name:"Beach Sunset"},{id:"mountain-peak",type:"image",url:"https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=150&auto=format&fit=crop",name:"Mountain Peak"},{id:"autumn-road",type:"image",url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=150&auto=format&fit=crop",name:"Autumn Road"},{id:"desk-setup",type:"image",url:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?w=150&auto=format&fit=crop",name:"Workspace"},{id:"books",type:"image",url:"https://images.unsplash.com/photo-1507721999472-8ed4421c4af2?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1507721999472-8ed4421c4af2?w=150&auto=format&fit=crop",name:"Books"},{id:"city-sky",type:"image",url:"https://images.unsplash.com/photo-1587162146766-e06b1189b907?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1587162146766-e06b1189b907?w=150&auto=format&fit=crop",name:"City Sky"},{id:"night-city",type:"image",url:"https://images.unsplash.com/photo-1519501025264-65ba15a82390?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1519501025264-65ba15a82390?w=150&auto=format&fit=crop",name:"Night City"},{id:"loom-sky",type:"image",url:"https://images.unsplash.com/photo-1444080748397-f442aa95c3e5?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1444080748397-f442aa95c3e5?w=150&auto=format&fit=crop",name:"Starry Sky"},{id:"purple",type:"image",url:"https://images.unsplash.com/photo-1511300636408-a63a89df3482?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1511300636408-a63a89df3482?w=150&auto=format&fit=crop",name:"Purple"},{id:"sunset",type:"image",url:"https://images.unsplash.com/photo-1502759683299-cdcd6974244f?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1502759683299-cdcd6974244f?w=150&auto=format&fit=crop",name:"Sunset"},{id:"astronaut",type:"image",url:"https://images.unsplash.com/photo-1674402728113-c6b4deac529e?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1674402728113-c6b4deac529e?w=150&auto=format&fit=crop",name:"Astronaut"},{id:"deep",type:"image",url:"https://images.unsplash.com/photo-1530053969600-caed2596d242?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1530053969600-caed2596d242?w=150&auto=format&fit=crop",name:"Deep"},{id:"water",type:"image",url:"https://images.unsplash.com/photo-1460501501851-d5946a18e552?q=80&w=2560&auto=format&fit=crop",thumbnail:"https://images.unsplash.com/photo-1460501501851-d5946a18e552?w=150&auto=format&fit=crop",name:"Water"}],Ct=[{id:"solid-dark",type:"color",url:"#1a1a1a",name:"Dark Mode"},{id:"solid-warm",type:"color",url:"#2c241b",name:"Warm Brown"},{id:"solid-navy",type:"color",url:"#0d1b2a",name:"Deep Navy"},{id:"solid-midnight",type:"color",url:"#1b2838",name:"Midnight Blue"},{id:"solid-charcoal",type:"color",url:"#2d2d2d",name:"Charcoal"},{id:"solid-forest",type:"color",url:"#1a2f1a",name:"Forest Green"},{id:"solid-teal",type:"color",url:"#1a3a3a",name:"Deep Teal"},{id:"solid-ocean",type:"color",url:"#0a2540",name:"Ocean Deep"},{id:"solid-sage",type:"color",url:"#2f3b2f",name:"Soft Sage"},{id:"solid-purple",type:"color",url:"#2a1f3d",name:"Muted Purple"},{id:"solid-twilight",type:"color",url:"#2d1f47",name:"Twilight Purple"},{id:"solid-zen",type:"color",url:"#3a3a3a",name:"Zen Gray"}],zt=[{id:"gradient-aurora",type:"gradient",url:"linear-gradient(135deg, #0d1b2a 0%, #1b2838 50%, #2a1f3d 100%)",name:"Aurora"},{id:"gradient-deep-space",type:"gradient",url:"linear-gradient(180deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%)",name:"Deep Space"},{id:"gradient-cosmic",type:"gradient",url:"linear-gradient(135deg, #2d1f47 0%, #1a3a3a 100%)",name:"Cosmic"},{id:"gradient-sunset",type:"gradient",url:"linear-gradient(180deg, #2c1810 0%, #3d2914 50%, #1a1a1a 100%)",name:"Sunset Calm"},{id:"gradient-ocean",type:"gradient",url:"linear-gradient(180deg, #0a2540 0%, #1a3a3a 50%, #0d1b2a 100%)",name:"Ocean Depth"},{id:"gradient-forest",type:"gradient",url:"linear-gradient(180deg, #1a2f1a 0%, #2f3b2f 50%, #1a1a1a 100%)",name:"Forest Mist"},{id:"gradient-twilight",type:"gradient",url:"linear-gradient(180deg, #2d1f47 0%, #1b2838 50%, #0d1b2a 100%)",name:"Twilight"},{id:"gradient-zen",type:"gradient",url:"linear-gradient(180deg, #2f3b2f 0%, #3a3a3a 50%, #1a1a1a 100%)",name:"Zen Garden"},{id:"gradient-ember",type:"gradient",url:"linear-gradient(135deg, #1a0a0a 0%, #2c1810 50%, #1a1a1a 100%)",name:"Warm Ember"},{id:"gradient-northern",type:"gradient",url:"linear-gradient(180deg, #0d1b2a 0%, #1a3a3a 30%, #2a1f3d 70%, #0d1b2a 100%)",name:"Northern Lights"}],It=[{id:"202004-916894674",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/202004-916894674/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/202004-916894674/480p/thumb.jpg"},{id:"1448735-uhd_4096_2160_24fps",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/1448735-uhd_4096_2160_24fps/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/1448735-uhd_4096_2160_24fps/480p/thumb.jpg"},{id:"1720220-uhd_3840_2160_25fps",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/1720220-uhd_3840_2160_25fps/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/1720220-uhd_3840_2160_25fps/480p/thumb.jpg"},{id:"266786",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/266786/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/266786/480p/thumb.jpg"},{id:"7094565-uhd_3840_2160_25fps",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/7094565-uhd_3840_2160_25fps/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/7094565-uhd_3840_2160_25fps/480p/thumb.jpg"},{id:"118087-713900116",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/118087-713900116/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/118087-713900116/480p/thumb.jpg"},{id:"148134-793525322",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/148134-793525322/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/148134-793525322/480p/thumb.jpg"},{id:"176303-855196335",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/176303-855196335/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/176303-855196335/480p/thumb.jpg"},{id:"203878-922675732",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/203878-922675732/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/203878-922675732/480p/thumb.jpg"},{id:"226711",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/226711/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/226711/480p/thumb.jpg"},{id:"270507",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/270507/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/270507/480p/thumb.jpg"},{id:"270940",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/270940/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/270940/480p/thumb.jpg"},{id:"270983",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/270983/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/270983/480p/thumb.jpg"},{id:"6847-196978755",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/6847-196978755/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/6847-196978755/480p/thumb.jpg"},{id:"856171-hd_1920_1080_30fps",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/856171-hd_1920_1080_30fps/720p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/856171-hd_1920_1080_30fps/480p/thumb.jpg"},{id:"91562-629172467",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/91562-629172467/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/91562-629172467/480p/thumb.jpg"},{id:"9584-220312371",name:"studyfoc.us",type:"video",url:"https://cdn.studyfoc.us/studyfocus-1/9584-220312371/1080p/index.m3u8",thumbnail:"https://cdn.studyfoc.us/studyfocus-1/9584-220312371/480p/thumb.jpg"}],Dt=[{id:"lofi-girl",type:"youtube",url:"https://www.youtube.com/watch?v=jfKfPfyJRdk",name:"Lofi Girl"},{id:"beach",type:"youtube",url:"https://www.youtube.com/watch?v=8HDjaAV_12s",name:"Beach"},{id:"beach-purple",type:"youtube",url:"https://www.youtube.com/watch?v=ZMOjfn-wyOQ",name:"Purple Beach"},{id:"train-japan",type:"youtube",url:"https://www.youtube.com/watch?v=q8nPaqfRm_c",name:"Train Japan"},{id:"city-night",type:"youtube",url:"https://www.youtube.com/watch?v=-Xh4BNbxpI8",name:"City Night"},{id:"drive",type:"youtube",url:"https://www.youtube.com/watch?v=4UOOcSfkbQQ",name:"Sunset Drive"},{id:"rainy-day",type:"youtube",url:"https://www.youtube.com/watch?v=HXvFSwm-ITo",name:"Rainy Day"},{id:"calm-rain",type:"youtube",url:"https://www.youtube.com/watch?v=JbJ0sYt9Nyk",name:"Calm Rain"},{id:"white-noise-rain",type:"youtube",url:"https://www.youtube.com/watch?v=yIQd2Ya0Ziw",name:"White Noise Rain"},{id:"deep-rain",type:"youtube",url:"https://www.youtube.com/watch?v=0dcFWLV_OlI",name:"Deep Rain"},{id:"just-relax",type:"youtube",url:"https://www.youtube.com/watch?v=zuCRSwWssVk",name:"Just Relax"},{id:"aquarium",type:"youtube",url:"https://www.youtube.com/watch?v=XVkADAwOXnU",name:"Aquarium"},{id:"walk",type:"youtube",url:"https://www.youtube.com/watch?v=qgfd-uWTVwg",name:"Walk"},{id:"road",type:"youtube",url:"https://www.youtube.com/watch?v=2AH5t_o7lmg",name:"Road"},{id:"HDR",type:"youtube",url:"https://www.youtube.com/watch?v=UYmvFzDuO5k",name:"HDR"},{id:"weeknd-lofi",type:"youtube",url:"https://www.youtube.com/watch?v=wVKDb9RTkrI",name:"Weeknd Lofi"},{id:"no-ai-lofi",type:"youtube",url:"https://www.youtube.com/watch?v=mT4g0paZ5gI",name:"No AI Lofi"},{id:"c418",type:"youtube",url:"https://www.youtube.com/watch?v=5ZYZ5HeuNsg",name:"C418"},{id:"interstellar",type:"youtube",url:"https://www.youtube.com/watch?v=WHqbqzqeskw",name:"Interstellar"},{id:"purple-cat",type:"youtube",url:"https://www.youtube.com/watch?v=kLvZUXtVXQ0",name:"Purple Cat"},{id:"sontung",type:"youtube",url:"https://www.youtube.com/watch?v=IfYjuHnAAFU",name:"SÆ¡n TÃ¹ng MTP"},{id:"tet",type:"youtube",url:"https://www.youtube.com/watch?v=4qArfv4C2Lg",name:"Táº¿t"},{id:"macos-redwood",type:"youtube",url:"https://www.youtube.com/watch?v=Riqc0t4HA0Q",name:"MacOS Redwood"},{id:"macos-soloma-horizon",type:"youtube",url:"https://www.youtube.com/watch?v=NGFFNsxQ-Mg",name:"MacOS Soloma Horizon"},{id:"macos-soloma-evening",type:"youtube",url:"https://www.youtube.com/watch?v=jS3veX19cxk",name:"MacOS Soloma Evening"},{id:"macos-sunset",type:"youtube",url:"https://www.youtube.com/watch?v=OrLMdAT4zIY",name:"MacOS Sunset"},{id:"macos-dubai",type:"youtube",url:"https://www.youtube.com/watch?v=oH0npaIHSfA",name:"MacOS Dubai"},{id:"macos-himalaya",type:"youtube",url:"https://www.youtube.com/watch?v=6AcnOJcM8oo",name:"MacOS Himalaya"},{id:"macos-reservoir",type:"youtube",url:"https://www.youtube.com/watch?v=zQVWAfpRvZg",name:"MacOS Reservoir"},{id:"macos-tea-garden",type:"youtube",url:"https://www.youtube.com/watch?v=CGgj95GhG0k",name:"MacOS Tea Garden"}],Nt=[{id:"none",name:"None",icon:"ðŸš«"},{id:"rain",name:"Rain",icon:"ðŸŒ§ï¸"},{id:"heavy-rain",name:"Heavy Rain",icon:"â›ˆï¸"},{id:"snow",name:"Snow",icon:"â„ï¸"},{id:"leaves",name:"Leaves",icon:"ðŸ‚"},{id:"cherry-blossom",name:"Blossom",icon:"ðŸŒ¸"},{id:"fireflies",name:"Fireflies",icon:"âœ¨"},{id:"cloud-shadows",name:"Clouds",icon:"â˜ï¸"},{id:"sun-rays",name:"Sun Rays",icon:"ðŸŒ…"}],Vt=[{id:"rain",emoji:"ðŸŒ§ï¸",name:"rain",url:()=>l(()=>Promise.resolve().then(()=>De),void 0,import.meta.url),category:"Nature"},{id:"bird",emoji:"ðŸ¦",name:"birds",url:()=>l(()=>Promise.resolve().then(()=>Ve),void 0,import.meta.url),category:"Nature"},{id:"bubble",emoji:"ðŸ«§",name:"bubble",url:()=>l(()=>Promise.resolve().then(()=>Fe),void 0,import.meta.url),category:"Nature"},{id:"chicken",emoji:"ðŸ“",name:"chicken",url:()=>l(()=>Promise.resolve().then(()=>qe),void 0,import.meta.url),category:"Nature"},{id:"fire",emoji:"ðŸ”¥",name:"fire",url:()=>l(()=>Promise.resolve().then(()=>He),void 0,import.meta.url),category:"Nature"},{id:"night",emoji:"ðŸŒ˜",name:"night",url:()=>l(()=>Promise.resolve().then(()=>We),void 0,import.meta.url),category:"Nature"},{id:"thunder",emoji:"âš¡ï¸",name:"thunder",url:()=>l(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url),category:"Nature"},{id:"tractor",emoji:"ðŸšœ",name:"tractor",url:()=>l(()=>Promise.resolve().then(()=>Xe),void 0,import.meta.url),category:"Nature"},{id:"water",emoji:"ðŸ’¦",name:"water",url:()=>l(()=>Promise.resolve().then(()=>Ke),void 0,import.meta.url),category:"Nature"},{id:"waves",emoji:"ðŸŒŠ",name:"ocean",url:()=>l(()=>Promise.resolve().then(()=>tt),void 0,import.meta.url),category:"Nature"},{id:"brown-noise",emoji:"ðŸ¤Ž",name:"brown noise",url:()=>l(()=>Promise.resolve().then(()=>st),void 0,import.meta.url),category:"Noise"},{id:"pink-noise",emoji:"ðŸ©·",name:"pink noise",url:()=>l(()=>Promise.resolve().then(()=>at),void 0,import.meta.url),category:"Noise"},{id:"white-noise",emoji:"ðŸ¤",name:"white noise",url:()=>l(()=>Promise.resolve().then(()=>nt),void 0,import.meta.url),category:"Noise"},{id:"chalk",emoji:"âœï¸",name:"chalk",url:()=>l(()=>Promise.resolve().then(()=>lt),void 0,import.meta.url),category:"Office"},{id:"mouse-click-2",emoji:"ðŸ–±ï¸",name:"mouse click",url:()=>l(()=>Promise.resolve().then(()=>dt),void 0,import.meta.url),category:"Office"},{id:"keyboard",emoji:"âŒ¨ï¸",name:"keyboard",url:()=>l(()=>Promise.resolve().then(()=>pt),void 0,import.meta.url),category:"Office"},{id:"writing",emoji:"âœï¸",name:"writing",url:()=>l(()=>Promise.resolve().then(()=>ft),void 0,import.meta.url),category:"Office"},{id:"airplane",emoji:"âœˆï¸",name:"airplane",url:()=>l(()=>Promise.resolve().then(()=>bt),void 0,import.meta.url),category:"Urban"},{id:"city",emoji:"ðŸ™ï¸",name:"city",url:()=>l(()=>Promise.resolve().then(()=>wt),void 0,import.meta.url),category:"Urban"},{id:"cafe",emoji:"â˜•",name:"cafe",url:()=>l(()=>Promise.resolve().then(()=>vt),void 0,import.meta.url),category:"Urban"},{id:"train",emoji:"ðŸš†",name:"railway",url:()=>l(()=>Promise.resolve().then(()=>jt),void 0,import.meta.url),category:"Urban"},{id:"fan",emoji:"ðŸ’¨",name:"fan",url:()=>l(()=>Promise.resolve().then(()=>kt),void 0,import.meta.url),category:"Urban"},{id:"old-clock",emoji:"ðŸ•°ï¸",name:"clock",url:()=>l(()=>Promise.resolve().then(()=>Pt),void 0,import.meta.url),category:"Urban"}],c=re()(ae((e,a)=>({currentScene:we[0],setCurrentScene:t=>e({currentScene:t}),currentEffect:"none",setCurrentEffect:t=>e({currentEffect:t}),timerMode:"pomodoro",showTimer:!0,setTimerMode:t=>e({timerMode:t}),setShowTimer:t=>e({showTimer:t}),showVisualizer:!1,visualizerMode:"window",setShowVisualizer:t=>e({showVisualizer:t}),setVisualizerMode:t=>e({visualizerMode:t}),isBgMuted:!0,bgFilters:be,bgInitialZoom:100,syncVisualizerConfig:ge,showVideoModal:!1,setIsBgMuted:t=>e({isBgMuted:t}),setBgFilters:t=>e({bgFilters:t}),setBgInitialZoom:t=>e({bgInitialZoom:t}),setSyncVisualizerConfig:t=>e({syncVisualizerConfig:t}),setShowVideoModal:t=>e({showVideoModal:t}),tasks:[],setTasks:t=>e(r=>({tasks:typeof t=="function"?t(r.tasks):t})),addTask:t=>e(r=>({tasks:[...r.tasks,t]})),toggleTask:t=>e(r=>({tasks:r.tasks.map(i=>i.id===t?{...i,completed:!i.completed}:i)})),deleteTask:t=>e(r=>({tasks:r.tasks.filter(i=>i.id!==t)})),notes:[],setNotes:t=>e(r=>({notes:typeof t=="function"?t(r.notes):t})),addNote:t=>e(r=>({notes:[t,...r.notes]})),updateNote:(t,r)=>e(i=>({notes:i.notes.map(o=>o.id===t?{...o,...r,updatedAt:Date.now()}:o)})),deleteNote:t=>e(r=>({notes:r.notes.filter(i=>i.id!==t)}))}),{name:"ifocus-storage",partialize:e=>({currentScene:e.currentScene,currentEffect:e.currentEffect,timerMode:e.timerMode,showTimer:e.showTimer,showVisualizer:e.showVisualizer,visualizerMode:e.visualizerMode,isBgMuted:e.isBgMuted,bgFilters:e.bgFilters,bgInitialZoom:e.bgInitialZoom,syncVisualizerConfig:e.syncVisualizerConfig,tasks:e.tasks,notes:e.notes})})),Bt=()=>c(e=>e.currentScene),Ft=()=>c(e=>e.setCurrentScene),Ut=()=>c(e=>e.currentEffect),qt=()=>c(e=>e.setCurrentEffect),$t=()=>c(e=>e.timerMode),Ht=()=>c(e=>e.setTimerMode),_e=()=>c(e=>e.showTimer),ve=()=>c(e=>e.setShowTimer),xe=()=>c(e=>e.showVisualizer),je=()=>c(e=>e.setShowVisualizer),Se=()=>c(e=>e.visualizerMode),Gt=()=>c(e=>e.setVisualizerMode),Wt=()=>c(e=>e.isBgMuted),Zt=()=>c(e=>e.setIsBgMuted),Jt=()=>c(e=>e.bgFilters),Qt=()=>c(e=>e.setBgFilters),Xt=()=>c(e=>e.bgInitialZoom),Yt=()=>c(e=>e.setBgInitialZoom),Kt=()=>c(e=>e.syncVisualizerConfig),eo=()=>c(e=>e.setSyncVisualizerConfig),to=()=>c(e=>e.showVideoModal),oo=()=>c(e=>e.setShowVideoModal),so=()=>c(e=>e.tasks),ro=()=>c(e=>e.setTasks),ao=()=>c(e=>e.notes),io=()=>c(e=>e.setNotes),A=s.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[100px]",children:s.jsx(ie,{className:"w-6 h-6 text-white/50 animate-spin"})}),ke=M(()=>l(()=>import("./components/background-CSCWzm4a.js"),__vite__mapDeps([0,1]),import.meta.url),{fallback:A}),Te=M(()=>l(()=>import("./components/timer-B2rwp6Pt.js"),__vite__mapDeps([2,1]),import.meta.url),{fallback:A}),Pe=M(()=>l(()=>import("./components/audiocontroller-CcIbPdMQ.js"),__vite__mapDeps([3,1]),import.meta.url),{fallback:A}),Ee=M(()=>l(()=>import("./components/tasks-Tz0-c-37.js"),__vite__mapDeps([4,1]),import.meta.url),{fallback:A}),Oe=M(()=>l(()=>import("./components/pipcontent-BgacYp7S.js"),__vite__mapDeps([5,1]),import.meta.url),{fallback:A}),Me=M(()=>l(()=>import("./components/notes-pjEMvGM9.js"),__vite__mapDeps([6,1]),import.meta.url),{fallback:A}),Ae=M(()=>l(()=>import("./components/sceneselector-BFZD8TfM.js"),__vite__mapDeps([7,1]),import.meta.url),{fallback:A}),Re=M(()=>l(()=>import("./components/effectsselector-BnFY8TLk.js"),__vite__mapDeps([8,1]),import.meta.url),{fallback:A}),Le=M(()=>l(()=>import("./components/visualizer-B5qi-cOe.js"),__vite__mapDeps([9,1,10,11,12]),import.meta.url),{fallback:A});function Ce(){const e=xe(),a=je(),t=Se(),r=_e(),i=ve(),[o,n]=w.useState("none"),h=w.useRef("scenes"),[u,_]=w.useState(new Set),[p,v]=w.useState(!1),[x,R]=w.useState(!1),d=w.useRef(null);w.useEffect(()=>{o!=="none"&&(h.current=o,u.has(o)||_(y=>new Set([...y,o])))},[o,u]);const S=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),v(!1)):(document.documentElement.requestFullscreen(),v(!0))},T=async()=>{try{if(console.log("Toggle PiP clicked"),!window.documentPictureInPicture){alert("Document Picture-in-Picture is not supported in your browser. Please use Chrome 116+ or Edge 116+.");return}if(d.current&&!d.current.closed){d.current.close(),d.current=null,R(!1);return}const y=await window.documentPictureInPicture.requestWindow({width:800,height:450});d.current=y,Array.from(document.styleSheets).forEach(V=>{try{const B=Array.from(V.cssRules).map(b=>b.cssText).join(`
`),j=y.document.createElement("style");j.textContent=B,y.document.head.appendChild(j)}catch{const j=y.document.createElement("link");j.rel="stylesheet",j.href=V.href||"",j.href&&y.document.head.appendChild(j)}}),y.document.body.style.margin="0",y.document.body.style.padding="0",y.document.body.style.overflow="hidden",y.addEventListener("pagehide",()=>{d.current=null,R(!1)}),R(!0)}catch(y){console.error("PiP error:",y),alert("Failed to activate Picture-in-Picture mode. Error: "+y.message),R(!1)}},q=()=>{window.open("https://github.com/hoangtran0410/ifocus","_blank")};return w.useEffect(()=>()=>{d.current&&!d.current.closed&&d.current.close()},[]),s.jsxs("div",{className:"pip-capture-root relative w-screen h-screen overflow-hidden font-sans",children:[s.jsx(ke,{}),e&&s.jsx(Le,{onClose:()=>a(!1),stop:x}),s.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 pointer-events-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/10 rounded-lg p-2 transition-colors",onClick:q,children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-md flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-white",children:"F"})}),s.jsx("span",{className:"text-white font-semibold tracking-wide text-lg shadow-black drop-shadow-md",children:"iFocus"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:T,className:`p-3 transition-colors rounded-full hover:bg-white/10 hidden sm:block ${x?"text-white":"text-white/70 hover:text-white"}`,title:"Picture-in-Picture",children:s.jsx(ue,{size:20})}),s.jsx("button",{onClick:S,className:"p-3 text-white/70 hover:text-white transition-colors rounded-full hover:bg-white/10",title:"Fullscreen",children:p?s.jsx(le,{size:20}):s.jsx(ce,{size:20})}),s.jsx("button",{onClick:()=>n(o==="none"?h.current:"none"),className:`p-3 transition-colors rounded-full hover:bg-white/10 sm:hidden ${o!=="none"?"text-white bg-white/10":"text-white/70 hover:text-white"}`,title:"Menu",children:s.jsx(de,{size:20})})]})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-4 pointer-events-auto",children:r&&!(e&&t==="center")?s.jsx("div",{className:"transition-all duration-500",children:s.jsx(Te,{onClose:()=>i(!1)})}):null}),s.jsx("div",{className:"flex justify-center pb-6 pointer-events-auto hidden sm:flex",children:s.jsx("div",{className:"transition-all duration-500",children:s.jsxs("div",{className:"flex gap-0 sm:gap-2 p-2 bg-black/40 opacity-50 hover:opacity-100 hover:backdrop-blur transition-all rounded-2xl border border-white/10 shadow-2xl",children:[s.jsx(N,{icon:s.jsx(W,{size:20}),label:"Scenes",isActive:o==="scenes",onClick:()=>n(o==="scenes"?"none":"scenes")}),s.jsx(N,{icon:s.jsx(Z,{size:20}),label:"Effects",isActive:o==="effects",onClick:()=>n(o==="effects"?"none":"effects")}),s.jsx(N,{icon:s.jsx(J,{size:20}),label:"Sounds",isActive:o==="audio",onClick:()=>n(o==="audio"?"none":"audio")}),s.jsx("div",{className:"w-px h-10 bg-white/10 mx-1 self-center"}),s.jsx(N,{icon:s.jsx(Q,{size:20}),label:"Tasks",isActive:o==="tasks",onClick:()=>n(o==="tasks"?"none":"tasks")}),s.jsx(N,{icon:s.jsx(X,{size:20}),label:"Notes",isActive:o==="notes",onClick:()=>n(o==="notes"?"none":"notes")})]})})})]}),s.jsx("div",{className:`absolute top-0 right-0 h-full w-full sm:w-96 glass-panel border-l border-white/10 transition-transform duration-300 ease-out ${o!=="none"?"translate-x-0":"translate-x-full"}`,style:{zIndex:o!=="none"?50:-1},children:s.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>n("scenes"),className:`p-2 rounded-lg transition-all ${o==="scenes"?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:"Scenes",children:s.jsx(W,{size:18})}),s.jsx("button",{onClick:()=>n("effects"),className:`p-2 rounded-lg transition-all ${o==="effects"?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:"Effects",children:s.jsx(Z,{size:18})}),s.jsx("button",{onClick:()=>n("audio"),className:`p-2 rounded-lg transition-all ${o==="audio"?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:"Sounds",children:s.jsx(J,{size:18})}),s.jsx("div",{className:"w-px h-6 bg-white/20 mx-1 self-center"}),s.jsx("button",{onClick:()=>n("tasks"),className:`p-2 rounded-lg transition-all ${o==="tasks"?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:"Tasks",children:s.jsx(Q,{size:18})}),s.jsx("button",{onClick:()=>n("notes"),className:`p-2 rounded-lg transition-all ${o==="notes"?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:"Notes",children:s.jsx(X,{size:18})})]}),s.jsx("button",{onClick:()=>n("none"),className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(me,{size:20})})]}),s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsx("span",{className:"text-white/50 text-xs font-bold uppercase tracking-widest",children:o})}),s.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[s.jsx("div",{className:`absolute inset-0 ${o==="audio"?"block":"hidden"}`,children:u.has("audio")&&s.jsx(Pe,{})}),s.jsx("div",{className:`absolute inset-0 ${o==="tasks"?"block":"hidden"}`,children:u.has("tasks")&&s.jsx(Ee,{})}),s.jsx("div",{className:`absolute inset-0 ${o==="notes"?"block":"hidden"}`,children:u.has("notes")&&s.jsx(Me,{})}),s.jsx("div",{className:`absolute inset-0 ${o==="scenes"?"block":"hidden"}`,children:u.has("scenes")&&s.jsx(Ae,{})}),s.jsx("div",{className:`absolute inset-0 ${o==="effects"?"block":"hidden"}`,children:u.has("effects")&&s.jsx(Re,{})})]})]})}),x&&d.current&&ne.createPortal(s.jsx(Oe,{}),d.current.document.body)]})}const N=({icon:e,label:a,isActive:t,onClick:r})=>s.jsxs("button",{onClick:r,className:`group relative flex flex-col items-center justify-center w-14 h-14 rounded-xl transition-all duration-300 ${t?"bg-white text-black shadow-lg":"text-white/70 hover:bg-white/10 hover:text-white hover:translate-y-[-2px]"}`,children:[e,s.jsx("span",{className:"absolute -bottom-8 opacity-0 group-hover:opacity-100 transition-opacity text-xs font-medium text-white bg-black/60 px-2 py-1 rounded backdrop-blur-sm whitespace-nowrap pointer-events-none",children:a})]}),ee=document.getElementById("root");if(!ee)throw new Error("Could not find root element to mount to");const ze=pe.createRoot(ee);ze.render(s.jsx(he.StrictMode,{children:s.jsx(Ce,{})}));const Ie=""+new URL("assets/rain.mp3",import.meta.url).href,De=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),Ne=""+new URL("assets/bird.mp3",import.meta.url).href,Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),Be=""+new URL("assets/bubble.mp3",import.meta.url).href,Fe=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"})),Ue=""+new URL("assets/chicken.mp3",import.meta.url).href,qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),$e=""+new URL("assets/fire.mp3",import.meta.url).href,He=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Ge=""+new URL("assets/night.mp3",import.meta.url).href,We=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Ze=""+new URL("assets/thunder.mp3",import.meta.url).href,Je=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),Qe=""+new URL("assets/tractor.mp3",import.meta.url).href,Xe=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),Ye=""+new URL("assets/waterflow.mp3",import.meta.url).href,Ke=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),et=""+new URL("assets/ocean.mp3",import.meta.url).href,tt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"})),ot=""+new URL("assets/soft-brown-noise.mp3",import.meta.url).href,st=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),rt=""+new URL("assets/pink_noise.mp3",import.meta.url).href,at=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),it=""+new URL("assets/white-noise.mp3",import.meta.url).href,nt=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),ut=""+new URL("assets/chalk.mp3",import.meta.url).href,lt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"})),ct=""+new URL("assets/mouse-click.mp3",import.meta.url).href,dt=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),mt=""+new URL("assets/typing.mp3",import.meta.url).href,pt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),ht=""+new URL("assets/writing.mp3",import.meta.url).href,ft=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"})),yt=""+new URL("assets/airplane.mp3",import.meta.url).href,bt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"})),gt=""+new URL("assets/city.mp3",import.meta.url).href,wt=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"})),_t=""+new URL("assets/coffee.mp3",import.meta.url).href,vt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),xt=""+new URL("assets/railway.mp3",import.meta.url).href,jt=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),St=""+new URL("assets/ceiling-fan.mp3",import.meta.url).href,kt=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"})),Tt=""+new URL("assets/old-clock.mp3",import.meta.url).href,Pt=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));let g=null,m=null,I=null,O=null,f=null,k=null,L=!1,C="none";const te={fftSize:8192,smoothingTimeConstant:.03,minDecibels:-85,maxDecibels:-22,freqStartIndex:4,freqLength:25},P={...te};let F=-1,U=null;function oe(){if(!m||!I)return null;const e=Math.floor(performance.now()/16);return e!==F&&(m.getByteFrequencyData(I),F=e,U=I),U}function no(){return{...te}}function uo(){return{...P}}function lo(e){Object.assign(P,e),m&&(e.fftSize!==void 0&&(m.fftSize=e.fftSize,I=new Uint8Array(m.frequencyBinCount),U=null,F=-1),e.smoothingTimeConstant!==void 0&&(m.smoothingTimeConstant=e.smoothingTimeConstant),e.minDecibels!==void 0&&(m.minDecibels=e.minDecibels),e.maxDecibels!==void 0&&(m.maxDecibels=e.maxDecibels))}function co(){return C}function H(){g||(g=new AudioContext),m||(m=g.createAnalyser(),m.fftSize=P.fftSize,m.smoothingTimeConstant=P.smoothingTimeConstant,m.minDecibels=P.minDecibels,m.maxDecibels=P.maxDecibels,I=new Uint8Array(m.frequencyBinCount))}async function mo(){if(L&&C==="tab")return!0;E();try{O=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser"},audio:{suppressLocalAudioPlayback:!1},selfBrowserSurface:"include",systemAudio:"include",surfaceSwitching:"include",monitorTypeSurfaces:"include"});const e=O.getAudioTracks();return e.length===0?(console.warn("No audio track in the captured stream"),E(),!1):(H(),k=g.createMediaStreamSource(O),k.connect(m),e[0].addEventListener("ended",()=>{E()}),L=!0,C="tab",!0)}catch(e){return console.error("Failed to start tab audio capture:",e),E(),!1}}async function po(){if(L&&C==="mic")return!0;if(E(),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){const e="Microphone access requires HTTPS. Please access the site via HTTPS.";return console.error(e),alert(e),!1}try{return O=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}}),H(),k=g.createMediaStreamSource(O),k.connect(m),O.getAudioTracks()[0].addEventListener("ended",()=>{E()}),L=!0,C="mic",!0}catch(e){return console.error("Failed to start microphone capture:",e),alert(`Mic capture error: ${e.message||e}`),E(),!1}}async function ho(e){E();try{return f=new Audio,f.src=URL.createObjectURL(e),f.loop=!0,f.crossOrigin="anonymous",await new Promise((a,t)=>{f.oncanplaythrough=()=>a(),f.onerror=()=>t(new Error("Failed to load audio file"))}),H(),g.state==="suspended"&&await g.resume(),k=g.createMediaElementSource(f),k.connect(m),k.connect(g.destination),await f.play(),f.onended=()=>{},L=!0,C="file",!0}catch(a){return console.error("Failed to start file audio capture:",a),E(),!1}}function E(){if(O&&(O.getTracks().forEach(e=>e.stop()),O=null),f){f.pause(),f.currentTime=0;const e=f.src;e&&e.startsWith("blob:")&&URL.revokeObjectURL(e),f.onended=null,f.oncanplaythrough=null,f.onerror=null,f.src="",f.load(),f=null}if(k){try{k.disconnect()}catch{}k=null}g&&(g.close(),g=null),m=null,I=null,U=null,F=-1,L=!1,C="none",Ot()}function Et(e,a=3,t=1){const r=Math.floor(a/2),i=1/(2*r+1);let o=e.slice(),n=[];for(let h=0;h<t;h++){for(let u=0;u<r;u++)n[u]=o[u],n[o.length-u-1]=o[o.length-u-1];for(let u=r;u<o.length-r;u++){let _=0;for(let p=-r;p<=r;p++)_+=i*o[u+p]+p;n[u]=_}o=n}return n}function fo(){const e=oe();if(!e)return new Array(P.freqLength).fill(0);const a=P.freqStartIndex,t=Math.min(a+P.freqLength,e.length),i=Array.from(e.slice(a,t)).map(o=>o/255);return Et(i,5,2)}function yo(){return L&&m!==null}const se={historySize:43,beatThreshold:1.35,cooldownFrames:8,beatDecay:.92,beatMultiplier:1.5},D={bass:{energyHistory:[],beatCooldown:0,lastBeatIntensity:0},mid:{energyHistory:[],beatCooldown:0,lastBeatIntensity:0},high:{energyHistory:[],beatCooldown:0,lastBeatIntensity:0}};function $(e,a){const{historySize:t,beatThreshold:r,cooldownFrames:i,beatDecay:o}=se;if(e.energyHistory.push(a),e.energyHistory.length>t&&e.energyHistory.shift(),e.energyHistory.length<10)return e.lastBeatIntensity*=o,e.lastBeatIntensity;const n=e.energyHistory.reduce((u,_)=>u+_,0)/e.energyHistory.length;if(e.beatCooldown>0&&e.beatCooldown--,e.beatCooldown===0&&a>n*r&&a>.08){const u=Math.min(1,(a-n)/n);e.lastBeatIntensity=Math.max(e.lastBeatIntensity,u),e.beatCooldown=i}return e.lastBeatIntensity*=o,e.lastBeatIntensity}function z(e,a,t){return Math.round(e*a/t)}function bo(){if(!m||!g)return{bass:0,mid:0,high:0};const e=oe();if(!e)return{bass:0,mid:0,high:0};const a=g.sampleRate,t=m.fftSize,r=e.length,i=Math.max(1,z(20,t,a)),o=Math.min(r,z(250,t,a)),n=Math.min(r,z(250,t,a)),h=Math.min(r,z(4e3,t,a)),u=Math.min(r,z(4e3,t,a)),_=Math.min(r,z(16e3,t,a));let p=0;const v=Math.max(1,o-i);for(let b=i;b<o&&b<r;b++)p+=e[b];const x=p/(v*255);let R=0;const d=Math.max(1,h-n);for(let b=n;b<h&&b<r;b++)R+=e[b];const S=R/(d*255);let T=0;const q=Math.max(1,_-u);for(let b=u;b<_&&b<r;b++)T+=e[b];const y=T/(q*255),G=$(D.bass,x),V=$(D.mid,S),B=$(D.high,y),{beatMultiplier:j}=se;return{bass:Math.min(1,x*(1+G*j)),mid:Math.min(1,S*(1+V*j)),high:Math.min(1,y*(1+B*j))}}function Ot(){D.bass={energyHistory:[],beatCooldown:0,lastBeatIntensity:0},D.mid={energyHistory:[],beatCooldown:0,lastBeatIntensity:0},D.high={energyHistory:[],beatCooldown:0,lastBeatIntensity:0}}function go(e,a){const[t,r]=w.useState(()=>{try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):a}catch(o){return console.error(o),a}});return[t,o=>{try{const n=o instanceof Function?o(t):o;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error(n)}}]}function wo(e,a){const t=w.useRef(null);return w.useCallback(((...r)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>e(...r),a)}),[e,a])}const K=/iPhone|iPad|iPod|Android/i;function _o(){const[e,a]=w.useState(()=>typeof navigator>"u"?!1:K.test(navigator.userAgent));return w.useEffect(()=>{const t=()=>{const r=K.test(navigator.userAgent),i=window.innerWidth<768;a(r||i)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}export{eo as A,wo as B,we as C,Vt as D,Nt as E,Ct as F,zt as G,It as H,Dt as I,so as J,ro as K,A as L,$t as M,Ht as N,_o as O,lo as P,co as Q,mo as R,po as S,Lt as T,ho as U,no as V,uo as W,fo as X,E as Y,Rt as Z,l as _,Bt as a,Ut as b,Wt as c,Jt as d,Xt as e,Kt as f,to as g,oo as h,ge as i,be as j,yo as k,bo as l,qt as m,xe as n,je as o,_e as p,ve as q,Se as r,Gt as s,ao as t,go as u,io as v,Ft as w,Zt as x,Qt as y,Yt as z};
