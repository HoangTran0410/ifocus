import{r as b,j as e,m as y,n as S,h as k,T as G}from"../vendor-C6GpDRhk.js";import{u as I,A as q,B as A,w as $,C as O,F as B}from"../index-CHfoDb82.js";function K(){const l=I(),n=q(),[i,z]=b.useState("#1a1a1a"),[r,D]=b.useState([{color:"#0d1b2a",position:0},{color:"#2a1f3d",position:100}]),[u,w]=b.useState(180),p=A(z,100),d=A(D,100),[c,f]=$("zen_user_colors",[]),[h,j]=$("zen_user_gradients",[]),x=()=>{const s=[...r].sort((o,a)=>o.position-a.position).map(o=>`${o.color} ${o.position}%`).join(", ");return`linear-gradient(${u}deg, ${s})`},U=t=>{const s=t.match(/linear-gradient\((\d+)deg/),o=s?parseInt(s[1]):180,a=/(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3})\s+(\d+)%/g,C=[];let g;for(;(g=a.exec(t))!==null;)C.push({color:g[1],position:parseInt(g[2])});return{angle:o,stops:C}},v=t=>{n(t),p(t.url)},N=t=>{n(t);const{angle:s,stops:o}=U(t.url);o.length>=2&&(d(o),w(s))},E=()=>{n({id:`custom-color-${Date.now()}`,type:"color",url:i,name:"Custom Color"})},M=()=>{n({id:`custom-gradient-${Date.now()}`,type:"gradient",url:x(),name:"Custom Gradient"})},_=()=>{const t=prompt("Enter a name for this color:");if(!t)return;const s={id:`user-color-${Date.now()}`,type:"color",url:i,name:t};f([...c,s])},R=()=>{const t=prompt("Enter a name for this gradient:");if(!t)return;const s={id:`user-gradient-${Date.now()}`,type:"gradient",url:x(),name:t};j([...h,s])},T=t=>{f(c.filter(s=>s.id!==t))},F=t=>{j(h.filter(s=>s.id!==t))},L=()=>{const t=r[r.length-1],s=r[r.length-2],o=Math.min(100,Math.round((t.position+s.position)/2)),a=[...r];a.splice(r.length-1,0,{color:"#1a3a3a",position:o}),d(a)},P=t=>{r.length<=2||d(r.filter((s,o)=>o!==t))},m=(t,s,o)=>{const a=[...r];s==="color"?a[t].color=o:a[t].position=Math.min(100,Math.max(0,o)),d(a)};return e.jsxs("div",{className:"pb-4 space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3",children:"Solid Colors"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:O.map(t=>e.jsxs("button",{onClick:()=>v(t),className:`relative group aspect-square rounded-xl overflow-hidden border-2 transition-all ${l.id===t.id?"border-white shadow-xl scale-[1.02]":"border-transparent hover:scale-[1.02]"}`,children:[e.jsx("div",{style:{backgroundColor:t.url},className:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-[10px] font-bold tracking-wide text-center px-1",children:t.name})}),l.id===t.id&&e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full shadow-glow"})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3",children:"Gradients"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:B.map(t=>e.jsxs("button",{onClick:()=>N(t),className:`relative group aspect-video rounded-xl overflow-hidden border-2 transition-all ${l.id===t.id?"border-white shadow-xl scale-[1.02]":"border-transparent hover:scale-[1.02]"}`,children:[e.jsx("div",{style:{background:t.url},className:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-xs font-bold tracking-wide",children:t.name})}),l.id===t.id&&e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-green-500 rounded-full shadow-glow"})]},t.id))})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3 flex items-center gap-2",children:[e.jsx(y,{size:14}),"Custom Color"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"color",value:i,onChange:t=>p(t.target.value),className:"w-12 h-12 rounded-lg cursor-pointer border-2 border-white/20 bg-transparent"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:i,onChange:t=>p(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-white/50 font-mono",placeholder:"#1a1a1a"})}),e.jsx("button",{onClick:E,className:"p-2 bg-white text-black rounded-lg hover:bg-white/90 transition-colors",title:"Apply",children:e.jsx(S,{size:18})}),e.jsx("button",{onClick:_,className:"p-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",title:"Save to presets",children:e.jsx(k,{size:18})})]})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3",children:"My Saved Colors"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>v(t),className:`w-full aspect-square rounded-xl overflow-hidden border-2 transition-all ${l.id===t.id?"border-white shadow-xl scale-[1.02]":"border-transparent hover:scale-[1.02]"}`,children:e.jsx("div",{style:{backgroundColor:t.url},className:"w-full h-full"})}),e.jsx("button",{onClick:()=>T(t.id),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(G,{size:10})}),e.jsx("span",{className:"absolute bottom-1 left-1 right-1 text-[8px] text-white/70 text-center truncate",children:t.name})]},t.id))})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3 flex items-center gap-2",children:[e.jsx(y,{size:14}),"Custom Gradient"]}),e.jsx("div",{className:"w-full h-24 rounded-lg mb-3 border border-white/10",style:{background:x()}}),e.jsx("div",{className:"flex flex-col gap-2 mb-3",children:r.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:t.color,onChange:o=>m(s,"color",o.target.value),className:"w-10 h-8 rounded-lg cursor-pointer border-2 border-white/20 bg-transparent"}),e.jsx("input",{type:"text",value:t.color,onChange:o=>m(s,"color",o.target.value),className:"w-20 bg-white/5 border border-white/10 rounded-lg px-2 py-1 text-xs focus:outline-none focus:border-white/50 font-mono"}),e.jsx("input",{type:"number",min:"0",max:"100",value:t.position,onChange:o=>m(s,"position",Number(o.target.value)),className:"w-14 bg-white/5 border border-white/10 rounded-lg px-2 py-1 text-xs focus:outline-none focus:border-white/50 font-mono text-center"}),e.jsx("span",{className:"text-xs text-white/50",children:"%"}),r.length>2&&e.jsx("button",{onClick:()=>P(s),className:"w-6 h-6 flex items-center justify-center rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors text-xs",children:"✕"})]},s))}),e.jsx("button",{onClick:L,className:"w-full py-1.5 mb-3 border border-dashed border-white/20 rounded-lg text-xs text-white/50 hover:text-white hover:border-white/40 transition-colors",children:"+ Add Color Stop"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"range",min:"0",max:"360",value:u,onChange:t=>w(Number(t.target.value)),className:"flex-1 accent-white"}),e.jsxs("span",{className:"text-xs font-mono w-10",children:[u,"°"]}),e.jsx("button",{onClick:M,className:"p-2 bg-white text-black rounded-lg hover:bg-white/90 transition-colors",title:"Apply",children:e.jsx(S,{size:18})}),e.jsx("button",{onClick:R,className:"p-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",title:"Save to presets",children:e.jsx(k,{size:18})})]})]}),h.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-white/50 uppercase mb-3",children:"My Saved Gradients"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>N(t),className:`w-full aspect-video rounded-xl overflow-hidden border-2 transition-all ${l.id===t.id?"border-white shadow-xl scale-[1.02]":"border-transparent hover:scale-[1.02]"}`,children:e.jsx("div",{style:{background:t.url},className:"w-full h-full"})}),e.jsx("button",{onClick:()=>F(t.id),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(G,{size:10})}),e.jsx("span",{className:"absolute bottom-1 left-1 right-1 text-[10px] text-white/70 text-center truncate",children:t.name})]},t.id))})]})]})}export{K as default};
