const M={time:0};function z({ctx:e,canvas:f,data:g,performanceMode:h=!1,bass:i=0,mid:S=0,high:v=0}){const n=f.width,o=f.height,a=g.reduce((t,s)=>t+s,0)/g.length;M.time+=.02+a*.03+S*.06;const c=M.time,l=h?12:6,p=Math.ceil(n/l),y=Math.ceil(o/l),$=i,m=S,C=v;for(let t=0;t<y;t++)for(let s=0;s<p;s++){const r=s/p,d=t/y,R=Math.sin(r*10+c+$*3),w=Math.sin((d*10+c)*.7+m*2),I=Math.sin((r+d)*5+c*.5),G=Math.sin(Math.sqrt((r-.5)**2+(d-.5)**2)*12+c+C*4),u=(R+w+I+G)/4,q=a*60+i*30,P=(u+1)*90+200+q,j=70+a*30,k=40+(u+1)*20+i*15;e.fillStyle=`hsl(${P%360}, ${j}%, ${k}%)`,e.fillRect(s*l,t*l,l,l)}if(!h&&i>.3){const t=e.createRadialGradient(n/2,o/2,0,n/2,o/2,Math.max(n,o)/2);t.addColorStop(0,`rgba(255, 100, 255, ${i*.3})`),t.addColorStop(.5,`rgba(100, 100, 255, ${i*.15})`),t.addColorStop(1,"transparent"),e.fillStyle=t,e.fillRect(0,0,n,o)}if(!h){const t=e.createRadialGradient(n/2,o/2,0,n/2,o/2,Math.max(n,o)*.7);t.addColorStop(0,"transparent"),t.addColorStop(1,`rgba(0, 0, 0, ${.3+a*.2})`),e.fillStyle=t,e.fillRect(0,0,n,o)}}export{z as default};
