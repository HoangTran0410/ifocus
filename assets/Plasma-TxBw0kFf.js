const y={time:0};function z({ctx:s,canvas:f,data:g,performanceMode:h=!1,beatIntensity:i=0,bass:S=0,mid:p=0,high:$=0}){const o=f.width,n=f.height,e=g.reduce((t,a)=>t+a,0)/g.length;y.time+=.02+e*.03+p*.06;const c=y.time,l=h?12:6,u=Math.ceil(o/l),M=Math.ceil(n/l),m=S,C=p,R=$;for(let t=0;t<M;t++)for(let a=0;a<u;a++){const r=a/u,d=t/M,w=Math.sin(r*10+c+m*3),G=Math.sin((d*10+c)*.7+C*2),q=Math.sin((r+d)*5+c*.5),I=Math.sin(Math.sqrt((r-.5)**2+(d-.5)**2)*12+c+R*4),v=(w+G+q+I)/4,P=e*60+i*30,b=(v+1)*90+200+P,j=70+e*30,k=40+(v+1)*20+i*15;s.fillStyle=`hsl(${b%360}, ${j}%, ${k}%)`,s.fillRect(a*l,t*l,l,l)}if(!h&&S>.3){const t=s.createRadialGradient(o/2,n/2,0,o/2,n/2,Math.max(o,n)/2);t.addColorStop(0,`rgba(255, 100, 255, ${i*.3})`),t.addColorStop(.5,`rgba(100, 100, 255, ${i*.15})`),t.addColorStop(1,"transparent"),s.fillStyle=t,s.fillRect(0,0,o,n)}if(!h){const t=s.createRadialGradient(o/2,n/2,0,o/2,n/2,Math.max(o,n)*.7);t.addColorStop(0,"transparent"),t.addColorStop(1,`rgba(0, 0, 0, ${.3+e*.2})`),s.fillStyle=t,s.fillRect(0,0,o,n)}}export{z as default};
