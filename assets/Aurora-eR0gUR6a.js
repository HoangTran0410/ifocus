const f={time:0,waves:[]};function L({ctx:t,canvas:s,data:g,performanceMode:M=!1,mid:A=0}){const p=g.reduce((h,m)=>h+m,0)/g.length;f.time+=.02;const C=M?4:5;f.waves.length!==C&&(f.waves=Array.from({length:C},(h,m)=>({offset:Math.random()*Math.PI*2,speed:.01+Math.random()*.02,amplitude:.3+Math.random()*.4})));const u=t.createLinearGradient(0,0,0,s.height);u.addColorStop(0,"#000011"),u.addColorStop(.5,"#001122"),u.addColorStop(1,"#000000"),t.fillStyle=u,t.fillRect(0,0,s.width,s.height);const P=[{h:120,s:80,l:50},{h:160,s:70,l:45},{h:280,s:60,l:55},{h:200,s:75,l:50},{h:340,s:65,l:50}];f.waves.forEach((h,m)=>{const e=P[m%P.length],B=m*.15,G=s.height*(.2+B),E=Math.floor(m/C*g.length);t.beginPath(),t.moveTo(0,s.height);const S=M?30:60,c=[];for(let o=0;o<=S;o++){const n=o/S*s.width,r=Math.floor(o/S*g.length),l=g[(r+E)%g.length]||p,a=Math.sin(f.time*h.speed*50+n*.01+h.offset),d=Math.sin(f.time*h.speed*30+n*.02+h.offset*2)*.5,y=Math.sin(f.time*h.speed*70+n*.005)*.3,w=(a+d+y)*h.amplitude,T=l*s.height*.3,b=G+w*50-T;c.push({x:n,y:b})}const k=3,i=c.map((o,n)=>{let r=0,l=0;for(let a=-k;a<=k;a++){const d=Math.max(0,Math.min(c.length-1,n+a)),y=1/(1+Math.abs(a));r+=c[d].y*y,l+=y}return{x:o.x,y:r/l}});t.moveTo(0,s.height),t.lineTo(i[0].x,i[0].y);for(let o=0;o<i.length-1;o++){const n=i[Math.max(0,o-1)],r=i[o],l=i[o+1],a=i[Math.min(i.length-1,o+2)],d=.5,y=r.x+(l.x-n.x)*d/3,w=r.y+(l.y-n.y)*d/3,T=l.x-(a.x-r.x)*d/3,b=l.y-(a.y-r.y)*d/3;t.bezierCurveTo(y,w,T,b,l.x,l.y)}t.lineTo(s.width,s.height),t.closePath();const $=t.createLinearGradient(0,G-100,0,s.height);$.addColorStop(0,`hsla(${e.h}, ${e.s}%, ${e.l}%, ${.6+p*.3})`),$.addColorStop(.3,`hsla(${e.h}, ${e.s}%, ${e.l}%, ${.3+p*.2})`),$.addColorStop(.7,`hsla(${e.h+20}, ${e.s}%, ${e.l-10}%, 0.1)`),$.addColorStop(1,"transparent"),t.fillStyle=$,t.fill(),M||(t.shadowColor=`hsla(${e.h}, ${e.s}%, ${e.l+20}%, 0.5)`,t.shadowBlur=30+p*20,t.beginPath(),i.forEach((o,n)=>{n===0?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y)}),t.strokeStyle=`hsla(${e.h}, ${e.s}%, ${e.l+30}%, ${.3+p*.4})`,t.lineWidth=2,t.stroke(),t.shadowBlur=0),h.offset+=h.speed*(1+p+A*.5)})}export{L as default};
