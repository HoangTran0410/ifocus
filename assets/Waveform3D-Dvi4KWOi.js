const i={history:[],maxHistory:25};function U({ctx:t,canvas:n,data:$,performanceMode:c=!1}){const X=c?15:25;i.maxHistory=X,i.history.push([...$]),i.history.length>X&&i.history.shift();const d=$.reduce((o,s)=>o+s,0)/$.length,e=n.height*.35,D=n.height*.95,g=n.width/2,k=.7,R=i.history.length,f=c?24:40;for(let o=0;o<R-1;o++){const s=i.history[o],r=i.history[o+1];if(!s||!r)continue;const h=o/R,l=(o+1)/R,a=Math.pow(h,k),w=Math.pow(l,k),p=e+(D-e)*a,S=e+(D-e)*w,y=n.width*(.15+a*.85),T=n.width*(.15+w*.85),z=g-y/2,C=g-T/2;for(let u=0;u<f-1;u++){const b=u/(f-1),W=(u+1)/(f-1),H=Math.floor(b*(s.length-1)),P=Math.floor(W*(s.length-1)),Y=s[H]||0,m=s[P]||0,Z=r[P]||0,x=r[H]||0,B=n.height*.25*(.3+a*.7),G=n.height*.25*(.3+w*.7),q=z+b*y,A=p-Y*B,E=z+W*y,F=p-m*B,J=C+W*T,K=S-Z*G,L=C+b*T,N=S-x*G,I=(Y+m+Z+x)/4,M=260+I*60,O=70+I*30,Q=35+h*25+I*20,j=.4+h*.5;t.beginPath(),t.moveTo(q,A),t.lineTo(E,F),t.lineTo(J,K),t.lineTo(L,N),t.closePath(),t.fillStyle=`hsla(${M}, ${O}%, ${Q}%, ${j})`,t.fill(),(!c||o%2===0)&&(t.strokeStyle=`hsla(${M+30}, 90%, ${Q+20}%, ${j*.8})`,t.lineWidth=.5+h,t.stroke())}}if(!c&&i.history.length>0){const o=i.history[i.history.length-1],s=D,r=n.width*.97,h=g-r/2;t.beginPath(),t.moveTo(h,s);for(let l=0;l<f;l++){const a=l/(f-1),w=Math.floor(a*(o.length-1)),p=o[w]||0,S=h+a*r,y=s-p*n.height*.25;l===0?t.moveTo(S,y):t.lineTo(S,y)}t.shadowColor="rgba(236, 72, 153, 0.8)",t.shadowBlur=15+d*20,t.strokeStyle=`rgba(255, 255, 255, ${.6+d*.4})`,t.lineWidth=2,t.stroke(),t.shadowBlur=0}if(!c&&d>.2){const o=t.createRadialGradient(g,e,0,g,e,n.width*.5);o.addColorStop(0,`rgba(168, 85, 247, ${d*.3})`),o.addColorStop(.5,`rgba(168, 85, 247, ${d*.1})`),o.addColorStop(1,"transparent"),t.fillStyle=o,t.fillRect(0,0,n.width,e+50)}}export{U as default};
