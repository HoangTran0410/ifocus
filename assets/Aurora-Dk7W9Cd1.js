const i={time:0,waves:[]};function k({ctx:o,canvas:s,data:n,performanceMode:u=!1}){const r=n.reduce((h,a)=>h+a,0)/n.length;i.time+=.02;const m=u?3:5;i.waves.length!==m&&(i.waves=Array.from({length:m},(h,a)=>({offset:Math.random()*Math.PI*2,speed:.01+Math.random()*.02,amplitude:.3+Math.random()*.4})));const g=o.createLinearGradient(0,0,0,s.height);g.addColorStop(0,"#000011"),g.addColorStop(.5,"#001122"),g.addColorStop(1,"#000000"),o.fillStyle=g,o.fillRect(0,0,s.width,s.height);const C=[{h:120,s:80,l:50},{h:160,s:70,l:45},{h:280,s:60,l:55},{h:200,s:75,l:50},{h:340,s:65,l:50}];i.waves.forEach((h,a)=>{const e=C[a%C.length],w=a*.15,S=s.height*(.2+w),M=Math.floor(a/m*n.length);o.beginPath(),o.moveTo(0,s.height);const p=u?30:60,$=[];for(let t=0;t<=p;t++){const l=t/p*s.width,d=Math.floor(t/p*n.length),y=n[(d+M)%n.length]||r,T=Math.sin(i.time*h.speed*50+l*.01+h.offset),b=Math.sin(i.time*h.speed*30+l*.02+h.offset*2)*.5,P=Math.sin(i.time*h.speed*70+l*.005)*.3,E=(T+b+P)*h.amplitude,G=y*s.height*.3,c=S+E*50-G;$.push({x:l,y:c})}o.moveTo(0,s.height),$.forEach((t,l)=>{if(l===0)o.lineTo(t.x,t.y);else{const d=$[l-1],y=(d.x+t.x)/2;o.quadraticCurveTo(d.x,d.y,y,(d.y+t.y)/2)}}),o.lineTo(s.width,s.height),o.closePath();const f=o.createLinearGradient(0,S-100,0,s.height);f.addColorStop(0,`hsla(${e.h}, ${e.s}%, ${e.l}%, ${.6+r*.3})`),f.addColorStop(.3,`hsla(${e.h}, ${e.s}%, ${e.l}%, ${.3+r*.2})`),f.addColorStop(.7,`hsla(${e.h+20}, ${e.s}%, ${e.l-10}%, 0.1)`),f.addColorStop(1,"transparent"),o.fillStyle=f,o.fill(),u||(o.shadowColor=`hsla(${e.h}, ${e.s}%, ${e.l+20}%, 0.5)`,o.shadowBlur=30+r*20,o.beginPath(),$.forEach((t,l)=>{l===0?o.moveTo(t.x,t.y):o.lineTo(t.x,t.y)}),o.strokeStyle=`hsla(${e.h}, ${e.s}%, ${e.l+30}%, ${.3+r*.4})`,o.lineWidth=2,o.stroke(),o.shadowBlur=0),h.offset+=h.speed*(1+r)})}export{k as default};
