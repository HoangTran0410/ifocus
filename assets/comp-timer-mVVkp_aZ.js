import{r as l,j as s,m as v,P as y,R as j,X as S}from"./vendor-DtxQH04y.js";import{u as T,T as r}from"./comp-audiocontroller-BpCVJ6ce.js";function E({mode:e,setMode:f,onClose:c}){const[x,u]=T("zen_timer_states",{pomodoro:r.pomodoro,shortBreak:r.shortBreak,longBreak:r.longBreak,clock:r.clock,stopwatch:r.stopwatch}),[i,n]=l.useState(!1),[w,m]=l.useState(new Date),o=x[e],h=t=>{u(a=>({...a,[e]:typeof t=="function"?t(a[e]):t}))};l.useEffect(()=>{if(e==="clock"){const t=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(t)}},[e]),l.useEffect(()=>{n(!1)},[e]),l.useEffect(()=>{let t=null;return e==="stopwatch"&&i?t=window.setInterval(()=>{h(a=>a+1)},1e3):e!=="clock"&&e!=="stopwatch"&&i&&o>0?t=window.setInterval(()=>{h(a=>a-1)},1e3):e!=="stopwatch"&&o===0&&n(!1),()=>{t&&window.clearInterval(t)}},[i,o,e]);const d=()=>n(!i),g=()=>{n(!1),u(t=>({...t,[e]:r[e]}))},p=t=>{const a=Math.floor(t/60),b=t%60;return`${a.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`},k=t=>t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return l.useEffect(()=>{e==="clock"?document.title="iFocus":document.title=`${p(o)} - iFocus`},[o,e]),s.jsxs("div",{className:"group relative flex items-center justify-center p-8 transition-all duration-500 ease-in-out text-white max-w-md mx-auto hover:bg-black/40 hover:backdrop-blur-md rounded-3xl font-sans",children:[s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-4 flex sm:space-x-2 space-x-1 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0 bg-white/10",children:["pomodoro","shortBreak","longBreak","stopwatch","clock"].map(t=>s.jsx("button",{onClick:()=>f(t),className:`px-2 py-1 sm:px-4 sm:py-2 rounded-full text-sm font-semibold transition-all duration-300 ${e===t?"bg-white text-black shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:t==="pomodoro"?"Focus":t==="shortBreak"?"Short":t==="longBreak"?"Long":t==="stopwatch"?"Stopwatch":"Clock"},t))}),s.jsx("div",{className:"timer-display text-7xl sm:text-9xl font-bold tracking-tight select-none drop-shadow-2xl transition-transform duration-500 group-hover:scale-105",children:e==="clock"?k(w):p(o)}),e!=="clock"&&s.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-4 flex items-center space-x-3 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0",children:[s.jsx("button",{onClick:d,className:"bg-white text-black sm:p-6 p-4 rounded-full hover:scale-105 transition-transform shadow-lg active:scale-95",children:i?s.jsx(v,{size:32,fill:"black"}):s.jsx(y,{size:32,fill:"black",className:"ml-1"})}),(e==="stopwatch"?o>0:o<r[e])&&s.jsx("button",{onClick:g,className:"bg-white/10 text-white sm:p-4 p-3 rounded-full hover:bg-white/20 transition-colors",children:s.jsx(j,{size:24})})]}),c&&s.jsx("button",{onClick:c,className:"absolute top-2 right-2 p-2 rounded-full bg-white/10 text-white/50 hover:bg-white/20 hover:text-white transition-all opacity-0 group-hover:opacity-100 cursor-pointer",title:"Hide Timer",children:s.jsx(S,{size:16})})]})}export{E as default};
