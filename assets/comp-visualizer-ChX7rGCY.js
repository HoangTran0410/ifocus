const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bars-Cm_e24R5.js","./vendor-COPaNxkS.js","./comp-audiocontroller-Cl3Cj2Ve.js","./comp-background-B54EcfXi.js","./Wave-DRwZ6-Nr.js","./Circular-6tFZ-XQc.js","./Spectrum-DO5Dop3R.js","./WebGL_Fluid-_Tc9onmi.js","./utils-E6iCwlZp.js","./WebGL_BlackHole-C03xBZlm.js","./WebGL_Accretion-Xln8mgO3.js","./WebGL_Lightning-B72SmaqV.js","./WebGL_Sunset-Bsy4mlO4.js","./WebGL_HoloDice-xQKTd-jO.js","./WebGL_Cube-C5Oem2HO.js","./WebGL_Clouds-CeKpxuVh.js","./WebGL_Universe-CvAIEn6q.js","./WebGL_Kuko-COFuR5Ck.js","./WebGL_Fiber-DiTcPbmB.js","./WebGL_Zippy-ByIGF55T.js","./WebGL_Art-CVNupCPb.js","./WebGL_StarNest-P18qFPze.js","./WebGL_Landscape-DS2--aJj.js","./WebGL_Fire-CfyaKNBV.js","./WebGL_Fragment-C-B4ujwr.js","./WebGL_Orbital-DPyFtMo1.js","./WebGL_Palettes-hs4DS36l.js"])))=>i.map(i=>d[i]);
import{r,j as t,s as Xe,t as $e,u as qe,v as Be,w as Ze,x as Ke,X as Je,T as Qe,U as et,y as tt,R as rt,z as st}from"./vendor-COPaNxkS.js";import{u as L}from"./comp-audiocontroller-Cl3Cj2Ve.js";import{_ as s,f as nt,g as it,z as re,A as Y,B as ot,C as at,D as lt,E as ct,F as ut,G as dt,H as pt}from"./comp-background-B54EcfXi.js";const se={"ðŸ”§ (Test)":()=>s(()=>import("./FrequencyBands-CYy9ju4N.js"),[],import.meta.url),"ðŸ“Š Bars":()=>s(()=>import("./Bars-Cm_e24R5.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"ðŸŒŠ Wave":()=>s(()=>import("./Wave-DRwZ6-Nr.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),"ðŸŸ£ Circular":()=>s(()=>import("./Circular-6tFZ-XQc.js"),__vite__mapDeps([5,1,2,3]),import.meta.url),"ðŸ”Š TrapNation":()=>s(()=>import("./TrapNation-B6nzrewg.js"),[],import.meta.url),"ðŸŒˆ Spectrum":()=>s(()=>import("./Spectrum-DO5Dop3R.js"),__vite__mapDeps([6,1,2,3]),import.meta.url),"âœ¨ Particles":()=>s(()=>import("./Particles-D5t2gMHO.js"),[],import.meta.url),"ðŸ§¬ DnaHelix":()=>s(()=>import("./DnaHelix-ssc88XVj.js"),[],import.meta.url),"ã€°ï¸ Oscilloscope":()=>s(()=>import("./Oscilloscope-D17QgPTu.js"),[],import.meta.url),"ðŸ”† RadialLines":()=>s(()=>import("./RadialLines-BcRsm6sT.js"),[],import.meta.url),"ðŸŒŒ Galaxy":()=>s(()=>import("./Galaxy-i7ixP_Vy.js"),[],import.meta.url),"âš« BlackHole":()=>s(()=>import("./BlackHole-CQSDrsO8.js"),[],import.meta.url),"ðŸ’» Matrix":()=>s(()=>import("./Matrix-GbIVE_cS.js"),[],import.meta.url),"ðŸŽ† Fireworks":()=>s(()=>import("./Fireworks-Btw7m9vA.js"),[],import.meta.url),"ðŸŒ  Aurora":()=>s(()=>import("./Aurora-eR0gUR6a.js"),[],import.meta.url),"ðŸ’ Rings":()=>s(()=>import("./Rings-DgCSEA4s.js"),[],import.meta.url),"ðŸ“ˆ Waveform3D":()=>s(()=>import("./Waveform3D-CKcxO5iK.js"),[],import.meta.url),"â­ Starfield":()=>s(()=>import("./Starfield-BqVxL3YO.js"),[],import.meta.url),"ðŸŒ€ Plasma":()=>s(()=>import("./Plasma-TxBw0kFf.js"),[],import.meta.url),"âš¡ Lightning":()=>s(()=>import("./Lightning-ZfCAkrcJ.js"),[],import.meta.url),"ðŸ Hexagons":()=>s(()=>import("./Hexagons-DL83dJF1.js"),[],import.meta.url),"ðŸŒ¿ Fractal":()=>s(()=>import("./Fractal-CrOs2AwR.js"),[],import.meta.url),"ðŸ’§ Fluid (WebGL)":()=>s(()=>import("./WebGL_Fluid-_Tc9onmi.js"),__vite__mapDeps([7,8]),import.meta.url),"ðŸ•³ï¸ BlackHole (WebGL)":()=>s(()=>import("./WebGL_BlackHole-C03xBZlm.js"),__vite__mapDeps([9,8]),import.meta.url),"ðŸŒ€ Accretion (WebGL)":()=>s(()=>import("./WebGL_Accretion-Xln8mgO3.js"),__vite__mapDeps([10,8]),import.meta.url),"âš¡ Lightning (WebGL)":()=>s(()=>import("./WebGL_Lightning-B72SmaqV.js"),__vite__mapDeps([11,8]),import.meta.url),"ðŸŒ… Sunset (WebGL)":()=>s(()=>import("./WebGL_Sunset-Bsy4mlO4.js"),__vite__mapDeps([12,8]),import.meta.url),"ðŸŽ² HoloDice (WebGL)":()=>s(()=>import("./WebGL_HoloDice-xQKTd-jO.js"),__vite__mapDeps([13,8]),import.meta.url),"ðŸ“¦ Cube (WebGL)":()=>s(()=>import("./WebGL_Cube-C5Oem2HO.js"),__vite__mapDeps([14,8]),import.meta.url),"â˜ï¸ Clouds (WebGL)":()=>s(()=>import("./WebGL_Clouds-CeKpxuVh.js"),__vite__mapDeps([15,8]),import.meta.url),"ðŸŒŒ Universe (WebGL)":()=>s(()=>import("./WebGL_Universe-CvAIEn6q.js"),__vite__mapDeps([16,8]),import.meta.url),"âœ¨ Kuko (WebGL)":()=>s(()=>import("./WebGL_Kuko-COFuR5Ck.js"),__vite__mapDeps([17,8]),import.meta.url),"ðŸ§µ Fiber (WebGL)":()=>s(()=>import("./WebGL_Fiber-DiTcPbmB.js"),__vite__mapDeps([18,8]),import.meta.url),"âš¡ Zippy (WebGL)":()=>s(()=>import("./WebGL_Zippy-ByIGF55T.js"),__vite__mapDeps([19,8]),import.meta.url),"ðŸŽ¨ Art (WebGL)":()=>s(()=>import("./WebGL_Art-CVNupCPb.js"),__vite__mapDeps([20,8]),import.meta.url),"ðŸŒŸ StarNest (WebGL)":()=>s(()=>import("./WebGL_StarNest-P18qFPze.js"),__vite__mapDeps([21,8]),import.meta.url),"ðŸžï¸ Landscape (WebGL)":()=>s(()=>import("./WebGL_Landscape-DS2--aJj.js"),__vite__mapDeps([22,8]),import.meta.url),"ðŸ”¥ Fire (WebGL)":()=>s(()=>import("./WebGL_Fire-CfyaKNBV.js"),__vite__mapDeps([23,8]),import.meta.url),"ðŸ’Ž Fragment (WebGL)":()=>s(()=>import("./WebGL_Fragment-C-B4ujwr.js"),__vite__mapDeps([24,8]),import.meta.url),"ðŸª Orbital (WebGL)":()=>s(()=>import("./WebGL_Orbital-DPyFtMo1.js"),__vite__mapDeps([25,8]),import.meta.url),"ðŸŽ¨ Palettes (WebGL)":()=>s(()=>import("./WebGL_Palettes-hs4DS36l.js"),__vite__mapDeps([26,8]),import.meta.url)},De=Object.keys(se),ze=De[1],Ee=new Map,je=new Map;let U=null;async function mt(c,y){if(U!==null&&U!==c){const R=je.get(U);R&&R()}U=c;let x=Ee.get(c);if(!x){const h=await(se[c]||se[ze])();if(!h.default)throw new Error(`Invalid render function for mode: ${c}`);x=h.default,Ee.set(c,x);const A=h;A.cleanup&&je.set(c,A.cleanup)}x(y)}const X=new Map,ht=()=>{X.clear()},bt=(c,y,x)=>(X.has(y)||X.set(y,x()),X.get(y)),ye=120,Pe=120,Le=400,Re=200;function xt({onClose:c,isInPiP:y=!1,forceCenter:x=!1,stop:R=!1}){const h=nt(),A=it(),_=x||h==="center",ne=r.useRef(null),Ce=r.useRef(null),ie=r.useRef(0),[O,$]=L("zen_visualizer_mode",ze),[b,q]=L("zen_visualizer_position",{x:50,y:50}),[i,Ne]=L("zen_visualizer_size",{width:Le,height:Re}),[D,oe]=r.useState(!1);r.useEffect(()=>{ht()},[i.width,i.height]);const[T,V]=L("zen_visualizer_logo",null),B=r.useRef(null),[ae,F]=r.useState(!1),g=r.useRef(null),z=r.useRef(null),[w,le]=r.useState(!1),[p,ce]=r.useState(!1),[ue,de]=r.useState(""),[l,k]=L("zen_visualizer_config",lt()),[C,Ie]=L("zen_visualizer_performance_mode",!1),[N,Me]=L("zen_visualizer_show_fps",!1),pe=r.useRef(C);r.useEffect(()=>{pe.current=C},[C]),r.useEffect(()=>{p||de("")},[p]);const me=r.useRef(0),Z=r.useRef(0),he=r.useRef(performance.now()),xe=r.useRef(N);r.useEffect(()=>{xe.current=N},[N]),r.useEffect(()=>{if(T){const e=new Image;e.onload=()=>{B.current=e},e.src=T}else B.current=null},[T]),r.useEffect(()=>{re(l)},[]),r.useEffect(()=>()=>{g.current&&!g.current.closed&&g.current.close()},[]);const Ae=r.useCallback(e=>{var o;const n=(o=e.target.files)==null?void 0:o[0];if(n){const m=new FileReader;m.onload=P=>{var f;const M=(f=P.target)==null?void 0:f.result;V(M)},m.readAsDataURL(n)}},[V]),Te=r.useCallback(()=>{V(null)},[V]);r.useCallback(e=>{e.stopPropagation(),$(e.target.value)},[$]);const Se=r.useCallback(e=>{e.stopPropagation(),c==null||c()},[c]),[W,ge]=r.useState(()=>Y()),Oe=r.useCallback(async e=>{if(e.stopPropagation(),W)pt(),ge(!1);else{const n=await ot();ge(n)}},[W]),I=r.useCallback((e,n)=>{const o={...l,[e]:n};k(o),re({[e]:n})},[l,k]),Ve=r.useCallback(e=>{e.stopPropagation(),le(n=>!n),ce(!1)},[]),Fe=r.useCallback(e=>{e.stopPropagation();const n=at();k(n),re(n)},[k]),ke=r.useCallback(async e=>{if(e.stopPropagation(),!window.documentPictureInPicture){alert("Document Picture-in-Picture is not supported in your browser. Please use Chrome 116+ or Edge 116+.");return}if(g.current&&!g.current.closed){g.current.close(),g.current=null,z.current=null,F(!1);return}try{const n=await window.documentPictureInPicture.requestWindow({width:i.width,height:i.height});g.current=n,n.document.body.style.margin="0",n.document.body.style.padding="0",n.document.body.style.overflow="hidden",n.document.body.style.background="linear-gradient(135deg, rgba(15, 15, 30, 1), rgba(30, 20, 50, 1))";const o=n.document.createElement("canvas");o.width=i.width,o.height=i.height,o.style.width="100%",o.style.height="100%",n.document.body.appendChild(o),z.current=o,n.addEventListener("pagehide",()=>{g.current=null,z.current=null,F(!1)}),F(!0)}catch(n){console.error("PiP error:",n),alert("Failed to activate Picture-in-Picture mode. Error: "+n.message),F(!1)}},[i]),[G,fe]=r.useState(!1),[v,_e]=r.useState(null),S=r.useRef({x:0,y:0,posX:0,posY:0}),u=r.useRef({x:0,y:0,width:Le,height:Re,posX:0,posY:0}),We=r.useCallback(e=>{e.target.classList.contains("resize-handle")||(e.preventDefault(),fe(!0),S.current={x:e.clientX,y:e.clientY,posX:b.x,posY:b.y})},[b]),K=r.useCallback(e=>{if(G){const n=e.clientX-S.current.x,o=e.clientY-S.current.y;q({x:S.current.posX+n,y:S.current.posY+o})}else if(v){const n=e.clientX-u.current.x,o=e.clientY-u.current.y;let m=u.current.width,P=u.current.height,M=u.current.posX,f=u.current.posY;if(v.includes("e")&&(m=Math.max(ye,u.current.width+n)),v.includes("w")){const a=u.current.width-n;a>=ye&&(m=a,M=u.current.posX+n)}if(v.includes("s")&&(P=Math.max(Pe,u.current.height+o)),v.includes("n")){const a=u.current.height-o;a>=Pe&&(P=a,f=u.current.posY+o)}Ne({width:m,height:P}),q({x:M,y:f})}},[G,v,i.width,i.height]),J=r.useCallback(()=>{fe(!1),_e(null)},[]),E=r.useCallback((e,n)=>{e.preventDefault(),e.stopPropagation(),_e(n),u.current={x:e.clientX,y:e.clientY,width:i.width,height:i.height,posX:b.x,posY:b.y}},[i,b]);r.useEffect(()=>{if(G||v)return window.addEventListener("mousemove",K),window.addEventListener("mouseup",J),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",J)}},[G,v,K,J]);const Q=r.useRef(new Array(64).fill(0)),j=r.useRef(0);r.useEffect(()=>{const e=ne.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const o=async()=>{if(R)return;j.current+=.02;let m;if(Y())m=ct();else{for(let d=0;d<Q.current.length;d++){const Ue=.3+(Math.sin(j.current*2+d*.3)*.3+Math.sin(j.current*3.5+d*.5)*.2+Math.sin(j.current*1.2+d*.7)*.25)*.5;Q.current[d]=Math.max(0,Math.min(1,Ue+Math.random()*.1))}m=Q.current}const P=m.length,M=Y()?ut():Math.sin(j.current*4)*.3+.3,f=Y()?dt():{bass:Math.sin(j.current*1.25)*.3+.4,mid:Math.sin(j.current*1.3)*.25+.35,high:Math.sin(j.current*1.4)*.2+.3};let a=n,H=e;if(z.current){const d=z.current.getContext("2d");d&&(a=d,H=z.current)}a.clearRect(0,0,H.width,H.height);const Ye={ctx:a,canvas:H,data:m,barCount:P,performanceMode:pe.current,logoImage:B.current,beatIntensity:M,bass:f.bass,mid:f.mid,high:f.high};if(await mt(O,Ye),xe.current){a.save(),a.font="bold 12px monospace",a.fillStyle="rgba(255, 255, 255, 0.8)",a.shadowColor="rgba(0, 0, 0, 0.8)",a.shadowBlur=4,a.fillText(`${me.current} FPS`,10,20),a.restore(),Z.current++;const d=performance.now(),te=d-he.current;te>=500&&(me.current=Math.round(Z.current*1e3/te),Z.current=0,he.current=d)}ie.current=requestAnimationFrame(o)};return o(),()=>{cancelAnimationFrame(ie.current)}},[O,R]);const Ge=()=>t.jsx("div",{className:"absolute top-10 left-0 right-0 z-20 p-3 mx-2 rounded-lg",style:{background:"rgba(15, 15, 30, 0.45)",border:"1px solid rgba(168, 85, 247, 0.3)",maxHeight:i.height-50,overflowY:"auto"},onMouseDown:e=>e.stopPropagation(),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:t.jsx("span",{children:"FFT Size"})}),t.jsx("select",{value:l.fftSize,onChange:e=>I("fftSize",parseInt(e.target.value)),className:"w-full px-2 py-1 text-xs bg-white/10 text-white/90 rounded-md border border-white/20 cursor-pointer focus:outline-none focus:border-purple-500",children:[32,64,128,256,512,1024,2048,4096,8192,16384,32768].map(e=>t.jsx("option",{value:e,className:"bg-gray-900",children:e},e))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[t.jsx("span",{children:"Smoothing"}),t.jsx("span",{className:"text-purple-400",children:l.smoothingTimeConstant.toFixed(2)})]}),t.jsx("input",{type:"range",min:"0",max:"0.99",step:"0.01",value:l.smoothingTimeConstant,onChange:e=>I("smoothingTimeConstant",parseFloat(e.target.value)),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[t.jsx("span",{children:"Min dB"}),t.jsx("span",{className:"text-purple-400",children:l.minDecibels})]}),t.jsx("input",{type:"range",min:"-100",max:"-30",step:"1",value:l.minDecibels,onChange:e=>I("minDecibels",parseInt(e.target.value)),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[t.jsx("span",{children:"Max dB"}),t.jsx("span",{className:"text-purple-400",children:l.maxDecibels})]}),t.jsx("input",{type:"range",min:"-50",max:"0",step:"1",value:l.maxDecibels,onChange:e=>I("maxDecibels",parseInt(e.target.value)),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[t.jsx("span",{children:"Freq Start"}),t.jsx("span",{className:"text-purple-400",children:l.freqStartIndex})]}),t.jsx("input",{type:"range",min:"0",max:"1024",step:"1",value:l.freqStartIndex,onChange:e=>I("freqStartIndex",parseInt(e.target.value)),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[t.jsx("span",{children:"Freq Count"}),t.jsx("span",{className:"text-purple-400",children:l.freqLength})]}),t.jsx("input",{type:"range",min:"5",max:"1024",step:"1",value:l.freqLength,onChange:e=>I("freqLength",parseInt(e.target.value)),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),t.jsxs("div",{className:"pt-2 border-t border-white/10",children:[t.jsx("label",{className:"flex justify-between text-xs text-white/70 mb-2",children:t.jsx("span",{children:"Center Logo (Trap Nation)"})}),T?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:T,alt:"Logo preview",className:"w-12 h-12 object-contain rounded bg-white/10"}),t.jsxs("button",{onClick:Te,className:"flex-1 px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 rounded-md transition-colors cursor-pointer flex items-center justify-center gap-2",children:[t.jsx(Qe,{size:14}),"Remove"]})]}):t.jsxs("label",{className:"w-full px-3 py-2 text-xs font-medium text-white/80 bg-white/10 hover:bg-white/20 rounded-md transition-colors cursor-pointer flex items-center justify-center gap-2",children:[t.jsx(et,{size:14}),"Upload Image",t.jsx("input",{type:"file",accept:"image/*",onChange:Ae,className:"hidden"})]})]}),t.jsxs("div",{className:"pt-2 border-t border-white/10",children:[t.jsxs("button",{onClick:()=>Ie(!C),className:`w-full px-3 py-2 text-xs font-medium rounded-md transition-colors cursor-pointer flex items-center justify-center gap-2 ${C?"text-green-400 bg-green-500/20 hover:bg-green-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:"Performance mode reduces visual effects for better framerate on low-end devices",children:[t.jsx(tt,{size:14}),"Performance Mode ",C?"ON":"OFF"]}),t.jsxs("button",{onClick:()=>Me(!N),className:`w-full mt-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer flex items-center justify-center gap-2 ${N?"text-cyan-400 bg-cyan-500/20 hover:bg-cyan-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:"Show FPS counter on the visualizer",children:["Show FPS ",N?"ON":"OFF"]})]}),t.jsxs("button",{onClick:Fe,className:"w-full mt-2 px-3 py-1.5 text-xs font-medium text-white/80 bg-white/10 hover:bg-white/20 rounded-md transition-colors cursor-pointer flex items-center justify-center gap-2",title:"Reset to defaults",children:[t.jsx(rt,{size:14}),"Reset to Defaults"]})]})}),ee=De.filter(e=>e.toLowerCase().includes(ue.toLowerCase())),be=ee.filter(e=>!e.includes("(WebGL)")),we=ee.filter(e=>e.includes("(WebGL)")),ve=e=>t.jsx("button",{onClick:()=>{$(e)},className:`px-2 py-2 text-xs font-medium rounded-md transition-all cursor-pointer truncate ${O===e?"text-purple-400 bg-purple-500/30 border border-purple-500/50":"text-white/80 bg-white/10 hover:bg-white/20 border border-transparent"}`,title:e,children:e},e),He=()=>t.jsxs("div",{className:"absolute top-10 left-0 right-0 z-20 p-3 mx-2 rounded-lg",style:{background:"rgba(15, 15, 30, 0.45)",border:"1px solid rgba(168, 85, 247, 0.3)",maxHeight:i.height-50,overflowY:"auto"},onMouseDown:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx(st,{size:14,className:"absolute left-2 top-1/2 -translate-y-1/2 text-white/50"}),t.jsx("input",{type:"text",placeholder:"Search modes...",value:ue,onChange:e=>de(e.target.value),className:"w-full pl-7 pr-3 py-1.5 text-xs bg-white/10 text-white/90 rounded-md border border-white/20 focus:outline-none focus:border-purple-500 placeholder:text-white/40",autoFocus:!0})]}),be.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:be.map(ve)})}),we.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 mt-3 mb-2",children:[t.jsx("div",{className:"h-px flex-1 bg-white/20"}),t.jsx("span",{className:"text-xs text-white/50 font-medium",children:"WebGL"}),t.jsx("div",{className:"h-px flex-1 bg-white/20"})]}),t.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:we.map(ve)})]}),ee.length===0&&t.jsx("div",{className:"text-center text-white/50 text-xs py-4",children:"No modes found"})]});return t.jsx("div",{ref:Ce,className:`select-none fixed ${_?"":"cursor-move"}`,style:_?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:i.width,height:i.height,zIndex:50}:{left:b.x,top:b.y,width:i.width,height:i.height,zIndex:40},onMouseDown:_?void 0:We,onMouseEnter:()=>oe(!0),onMouseLeave:()=>oe(!1),children:t.jsxs("div",{className:`relative w-full h-full rounded-2xl overflow-hidden transition-all duration-300 ${_&&!D&&!w&&!p?"":"backdrop-blur-md"}`,style:{background:_&&!D&&!w&&!p?"transparent":"linear-gradient(135deg, rgba(15, 15, 30, 0.85), rgba(30, 20, 50, 0.85))",border:_&&!D&&!w&&!p?"1px solid transparent":"1px solid rgba(168, 85, 247, 0.3)",boxShadow:_&&!D&&!w&&!p?"none":"0 8px 32px rgba(0, 0, 0, 0.4), 0 0 60px rgba(168, 85, 247, 0.1)"},children:[t.jsxs("div",{className:`absolute top-0 left-0 right-0 flex items-center justify-between px-3 py-2 z-10 transition-opacity duration-300 ${_&&!D&&!w&&!p?"opacity-0":""}`,style:{background:"linear-gradient(180deg, rgba(0,0,0,0.4), transparent)",opacity:D||w||p?1:0},children:[t.jsx("span",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Visualizer"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:Oe,className:`p-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer ${W?"text-green-400 bg-green-500/20 hover:bg-green-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:W?"Stop audio capture":"Capture tab audio",children:t.jsx(Xe,{size:14})}),!y&&t.jsx("button",{onClick:ke,className:`p-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer ${ae?"text-purple-400 bg-purple-500/20 hover:bg-purple-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:ae?"Close PiP":"Open in PiP",children:t.jsx($e,{size:14})}),t.jsx("button",{onClick:Ve,className:`p-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer ${w?"text-amber-400 bg-amber-500/20 hover:bg-amber-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:"Audio analyzer settings",children:t.jsx(qe,{size:14})}),t.jsxs("button",{onClick:()=>{ce(!p),le(!1)},onMouseDown:e=>e.stopPropagation(),className:`px-2 py-1 text-xs font-medium rounded-md transition-colors cursor-pointer flex items-center gap-1.5 ${p?"text-purple-400 bg-purple-500/20 hover:bg-purple-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:"Select visualizer mode",children:[t.jsx(Be,{size:12}),t.jsx("span",{className:"max-w-[80px] truncate",children:O})]}),A&&!x&&t.jsx("button",{onClick:e=>{if(e.stopPropagation(),h==="center"){const n=(window.innerWidth-i.width)/2,o=(window.innerHeight-i.height)/2;q({x:n,y:o})}A(h==="center"?"window":"center")},className:`p-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer ${h==="center"?"text-cyan-400 bg-cyan-500/20 hover:bg-cyan-500/30":"text-white/80 bg-white/10 hover:bg-white/20"}`,title:h==="center"?"Switch to window mode":"Switch to center mode",children:h==="center"?t.jsx(Ze,{size:14}):t.jsx(Ke,{size:14})}),t.jsx("button",{onClick:Se,className:"p-1.5 text-xs font-medium text-white/80 bg-white/10 hover:bg-red-500/30 hover:text-red-400 rounded-md transition-colors cursor-pointer",title:"Close visualizer",children:t.jsx(Je,{size:14})})]})]}),w&&Ge(),p&&He(),t.jsx("canvas",{ref:ne,width:i.width,height:i.height,className:"w-full h-full"}),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"resize-handle absolute top-0 left-0 w-4 h-4 cursor-nw-resize",onMouseDown:e=>E(e,"nw")}),t.jsx("div",{className:"resize-handle absolute top-0 right-0 w-4 h-4 cursor-ne-resize",onMouseDown:e=>E(e,"ne")}),t.jsx("div",{className:"resize-handle absolute bottom-0 left-0 w-4 h-4 cursor-sw-resize",onMouseDown:e=>E(e,"sw")}),t.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-se-resize",onMouseDown:e=>E(e,"se")}),t.jsx("div",{className:"resize-handle absolute top-0 left-4 right-4 h-2 cursor-n-resize",onMouseDown:e=>E(e,"n")}),t.jsx("div",{className:"resize-handle absolute bottom-0 left-4 right-4 h-2 cursor-s-resize",onMouseDown:e=>E(e,"s")}),t.jsx("div",{className:"resize-handle absolute left-0 top-4 bottom-4 w-2 cursor-w-resize",onMouseDown:e=>E(e,"w")}),t.jsx("div",{className:"resize-handle absolute right-0 top-4 bottom-4 w-2 cursor-e-resize",onMouseDown:e=>E(e,"e")})]})]})})}const wt=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"}));export{wt as V,bt as g};
