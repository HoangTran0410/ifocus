import{g as R}from"./comp-visualizer-DPFVkvP-.js";import"./vendor-COPaNxkS.js";import"./comp-audiocontroller-Cl3Cj2Ve.js";import"./comp-background-B54EcfXi.js";function B({ctx:r,canvas:M,data:h,barCount:s,performanceMode:u=!1}){const a=M.width/2,e=M.height/2,l=Math.min(a,e)*.3,b=Math.min(a,e)*.4,k=Math.PI*2/s*(1-.3);if(u){const o=R(r,`circular-main-${M.width}-${M.height}`,()=>{const i=r.createRadialGradient(a,e,l,a,e,l+b);return i.addColorStop(0,"rgba(99, 102, 241, 0.85)"),i.addColorStop(.5,"rgba(168, 85, 247, 0.8)"),i.addColorStop(1,"rgba(236, 72, 153, 0.75)"),i});for(let i=0;i<s;i++){const g=i/s*Math.PI*2-Math.PI/2,S=g+k,p=h[i]*b;r.beginPath(),r.arc(a,e,l,g,S),r.arc(a,e,l+p,S,g,!0),r.closePath(),r.fillStyle=o,r.fill()}r.beginPath(),r.arc(a,e,l,0,Math.PI*2),r.strokeStyle="rgba(99, 102, 241, 0.7)",r.lineWidth=2,r.stroke();const n=h.reduce((i,g)=>i+g,0)/h.length,t=l*.55+n*8;r.beginPath(),r.arc(a,e,t,0,Math.PI*2),r.fillStyle="rgba(20, 20, 35, 0.9)",r.fill(),r.strokeStyle="rgba(168, 85, 247, 0.5)",r.lineWidth=2,r.stroke();return}const d=h.reduce((o,n)=>o+n,0)/h.length,f=r.createRadialGradient(a,e,l,a,e,l+b);f.addColorStop(0,"rgba(99, 102, 241, 0.9)"),f.addColorStop(.4,"rgba(168, 85, 247, 0.85)"),f.addColorStop(.7,"rgba(236, 72, 153, 0.8)"),f.addColorStop(1,"rgba(251, 146, 60, 0.7)");const I=r.createRadialGradient(a,e,l*.3,a,e,l);I.addColorStop(0,"rgba(236, 72, 153, 0.7)"),I.addColorStop(.5,"rgba(168, 85, 247, 0.8)"),I.addColorStop(1,"rgba(99, 102, 241, 0.9)");const C=.15+d*.5;for(let o=3;o>=1;o--)r.beginPath(),r.arc(a,e,l+b*.5+o*20,0,Math.PI*2),r.strokeStyle=`rgba(168, 85, 247, ${C/o})`,r.lineWidth=8/o,r.stroke();for(let o=0;o<s;o++){const n=o/s*Math.PI*2-Math.PI/2,t=n+k,i=h[o]*b,g=h[o]*l*.5;r.beginPath(),r.arc(a,e,l,n,t),r.arc(a,e,l+i,t,n,!0),r.closePath(),r.fillStyle=f,r.fill(),r.beginPath(),r.arc(a,e,l+i-2,n+.02,t-.02),r.strokeStyle=`rgba(255, 255, 255, ${.3+h[o]*.4})`,r.lineWidth=2,r.stroke(),r.beginPath(),r.arc(a,e,l-4,n,t),r.arc(a,e,l-4-g,t,n,!0),r.closePath(),r.fillStyle=I,r.fill()}for(let o=0;o<s;o++){const n=o/s*Math.PI*2-Math.PI/2+k/2,t=h[o]*b;if(t>b*.3){const i=2+h[o]*4,g=a+Math.cos(n)*(l+t+5),S=e+Math.sin(n)*(l+t+5),p=r.createRadialGradient(g,S,0,g,S,i*2);p.addColorStop(0,"rgba(255, 255, 255, 0.9)"),p.addColorStop(.5,"rgba(236, 72, 153, 0.6)"),p.addColorStop(1,"rgba(236, 72, 153, 0)"),r.beginPath(),r.arc(g,S,i*2,0,Math.PI*2),r.fillStyle=p,r.fill()}}r.shadowColor="rgba(168, 85, 247, 0.8)",r.shadowBlur=15+d*20,r.beginPath(),r.arc(a,e,l,0,Math.PI*2),r.strokeStyle="rgba(99, 102, 241, 0.8)",r.lineWidth=3,r.stroke(),r.shadowBlur=0;const P=l*.55+d*8;r.beginPath(),r.arc(a,e,P+5,0,Math.PI*2),r.strokeStyle="rgba(168, 85, 247, 0.4)",r.lineWidth=2,r.stroke();const y=r.createRadialGradient(a-P*.3,e-P*.3,0,a,e,P);y.addColorStop(0,"rgba(40, 40, 60, 0.95)"),y.addColorStop(.7,"rgba(25, 25, 45, 0.95)"),y.addColorStop(1,"rgba(15, 15, 30, 0.95)"),r.beginPath(),r.arc(a,e,P,0,Math.PI*2),r.fillStyle=y,r.fill(),r.shadowColor="rgba(236, 72, 153, 0.6)",r.shadowBlur=10+d*15,r.beginPath(),r.arc(a,e,P,0,Math.PI*2),r.strokeStyle=`rgba(168, 85, 247, ${.5+d*.3})`,r.lineWidth=2,r.stroke(),r.shadowBlur=0,r.beginPath(),r.arc(a,e,P*.7,0,Math.PI*2),r.strokeStyle=`rgba(99, 102, 241, ${.2+d*.2})`,r.lineWidth=1,r.stroke(),r.beginPath(),r.arc(a,e,4+d*3,0,Math.PI*2),r.fillStyle=`rgba(255, 255, 255, ${.6+d*.4})`,r.fill()}export{B as default};
