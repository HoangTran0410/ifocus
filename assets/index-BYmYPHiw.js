const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./comp-background-DFWIys4v.js","./vendor-woyHwGIK.js","./comp-audiocontroller-BNdfcbcW.js","./comp-timer-CGEeUGFu.js","./comp-tasks-B1jYryox.js","./comp-pipcontent-CZe2ttwp.js","./comp-notes-5iVnLasQ.js","./comp-sceneselector-WXzPgMYK.js","./comp-effectsselector-DlocrsYd.js","./comp-visualizer-CZO3QzPd.js"])))=>i.map(i=>d[i]);
import{l,r as h,j as e,a as z,t as A,y as C,z as I,I as L,B as T,M as R,D as V,d as O,X as D,E as F,F as M}from"./vendor-woyHwGIK.js";import{_ as c,L as a,b as $,c as B,f as W,d as q,e as G}from"./comp-background-DFWIys4v.js";import"./comp-audiocontroller-BNdfcbcW.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))f(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function x(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function f(s){if(s.ep)return;s.ep=!0;const t=x(s);fetch(s.href,t)}})();const H=l(()=>c(()=>import("./comp-background-DFWIys4v.js").then(i=>i.H),__vite__mapDeps([0,1,2]),import.meta.url),{fallback:a}),K=l(()=>c(()=>import("./comp-timer-CGEeUGFu.js"),__vite__mapDeps([3,1,2,0]),import.meta.url),{fallback:a}),X=l(()=>c(()=>import("./comp-audiocontroller-BNdfcbcW.js").then(i=>i.A),__vite__mapDeps([2,1]),import.meta.url),{fallback:a}),J=l(()=>c(()=>import("./comp-tasks-B1jYryox.js"),__vite__mapDeps([4,1,0,2]),import.meta.url),{fallback:a}),Q=l(()=>c(()=>import("./comp-pipcontent-CZe2ttwp.js"),__vite__mapDeps([5,0,1,2]),import.meta.url),{fallback:a}),U=l(()=>c(()=>import("./comp-notes-5iVnLasQ.js"),__vite__mapDeps([6,1,0,2]),import.meta.url),{fallback:a}),Y=l(()=>c(()=>import("./comp-sceneselector-WXzPgMYK.js"),__vite__mapDeps([7,1,2,0]),import.meta.url),{fallback:a}),Z=l(()=>c(()=>import("./comp-effectsselector-DlocrsYd.js"),__vite__mapDeps([8,1,2,0]),import.meta.url),{fallback:a}),ee=l(()=>c(()=>import("./comp-visualizer-CZO3QzPd.js").then(i=>i.V),__vite__mapDeps([9,1,2,0]),import.meta.url),{fallback:a});function te(){const i=$(),d=B(),x=W(),f=q(),s=G(),[t,n]=h.useState("none"),[u,P]=h.useState(new Set),[y,w]=h.useState(!1),[v,b]=h.useState(!1),r=h.useRef(null);h.useEffect(()=>{t!=="none"&&!u.has(t)&&P(o=>new Set([...o,t]))},[t,u]);const k=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),w(!1)):(document.documentElement.requestFullscreen(),w(!0))},E=async()=>{try{if(console.log("Toggle PiP clicked"),!window.documentPictureInPicture){alert("Document Picture-in-Picture is not supported in your browser. Please use Chrome 116+ or Edge 116+.");return}if(r.current&&!r.current.closed){r.current.close(),r.current=null,b(!1);return}const o=await window.documentPictureInPicture.requestWindow({width:800,height:450});r.current=o,Array.from(document.styleSheets).forEach(j=>{try{const g=Array.from(j.cssRules).map(S=>S.cssText).join(`
`),m=o.document.createElement("style");m.textContent=g,o.document.head.appendChild(m)}catch{const m=o.document.createElement("link");m.rel="stylesheet",m.href=j.href||"",m.href&&o.document.head.appendChild(m)}}),o.document.body.style.margin="0",o.document.body.style.padding="0",o.document.body.style.overflow="hidden",o.addEventListener("pagehide",()=>{r.current=null,b(!1)}),b(!0)}catch(o){console.error("PiP error:",o),alert("Failed to activate Picture-in-Picture mode. Error: "+o.message),b(!1)}},N=()=>{window.open("https://github.com/hoangtran0410/ifocus","_blank")};return h.useEffect(()=>()=>{r.current&&!r.current.closed&&r.current.close()},[]),e.jsxs("div",{className:"pip-capture-root relative w-screen h-screen overflow-hidden font-sans",children:[e.jsx(H,{}),i&&e.jsx(ee,{onClose:()=>d(!1),stop:v}),e.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/10 rounded-lg p-2 transition-colors",onClick:N,children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-md flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-white",children:"F"})}),e.jsx("span",{className:"text-white font-semibold tracking-wide text-lg shadow-black drop-shadow-md",children:"iFocus"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:E,className:`p-3 transition-colors rounded-full hover:bg-white/10 ${v?"text-white":"text-white/70 hover:text-white"}`,title:"Picture-in-Picture",children:e.jsx(A,{size:20})}),e.jsx("button",{onClick:k,className:"p-3 text-white/70 hover:text-white transition-colors rounded-full hover:bg-white/10",title:"Fullscreen",children:y?e.jsx(C,{size:20}):e.jsx(I,{size:20})})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 pointer-events-auto",children:f&&!(i&&x==="center")?e.jsx("div",{className:"transition-all duration-500",children:e.jsx(K,{onClose:()=>s(!1)})}):null}),e.jsx("div",{className:"flex justify-center pb-6 pointer-events-auto",children:e.jsx("div",{className:"transition-all duration-500",children:e.jsxs("div",{className:"flex gap-0 sm:gap-2 p-2 bg-black/40 opacity-50 hover:opacity-100 hover:backdrop-blur transition-all rounded-2xl border border-white/10 shadow-2xl",children:[e.jsx(p,{icon:e.jsx(L,{size:20}),label:"Scenes",isActive:t==="scenes",onClick:()=>n(t==="scenes"?"none":"scenes")}),e.jsx(p,{icon:e.jsx(T,{size:20}),label:"Effects",isActive:t==="effects",onClick:()=>n(t==="effects"?"none":"effects")}),e.jsx(p,{icon:e.jsx(R,{size:20}),label:"Sounds",isActive:t==="audio",onClick:()=>n(t==="audio"?"none":"audio")}),e.jsx("div",{className:"w-px h-10 bg-white/10 mx-1 self-center"}),e.jsx(p,{icon:e.jsx(V,{size:20}),label:"Tasks",isActive:t==="tasks",onClick:()=>n(t==="tasks"?"none":"tasks")}),e.jsx(p,{icon:e.jsx(O,{size:20}),label:"Notes",isActive:t==="notes",onClick:()=>n(t==="notes"?"none":"notes")})]})})})]}),e.jsx("div",{className:`absolute top-0 right-0 h-full w-full sm:w-96 glass-panel border-l border-white/10 transition-transform duration-300 ease-out ${t!=="none"?"translate-x-0":"translate-x-full"}`,style:{zIndex:t!=="none"?50:-1},children:e.jsxs("div",{className:"h-full flex flex-col p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-white/50 text-xs font-bold uppercase tracking-widest",children:t}),e.jsx("button",{onClick:()=>n("none"),className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:e.jsx(D,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[e.jsx("div",{className:`absolute inset-0 ${t==="audio"?"block":"hidden"}`,children:u.has("audio")&&e.jsx(X,{})}),e.jsx("div",{className:`absolute inset-0 ${t==="tasks"?"block":"hidden"}`,children:u.has("tasks")&&e.jsx(J,{})}),e.jsx("div",{className:`absolute inset-0 ${t==="notes"?"block":"hidden"}`,children:u.has("notes")&&e.jsx(U,{})}),e.jsx("div",{className:`absolute inset-0 ${t==="scenes"?"block":"hidden"}`,children:u.has("scenes")&&e.jsx(Y,{})}),e.jsx("div",{className:`absolute inset-0 ${t==="effects"?"block":"hidden"}`,children:u.has("effects")&&e.jsx(Z,{})})]})]})}),v&&r.current&&z.createPortal(e.jsx(Q,{}),r.current.document.body)]})}const p=({icon:i,label:d,isActive:x,onClick:f})=>e.jsxs("button",{onClick:f,className:`group relative flex flex-col items-center justify-center w-14 h-14 rounded-xl transition-all duration-300 ${x?"bg-white text-black shadow-lg":"text-white/70 hover:bg-white/10 hover:text-white hover:translate-y-[-2px]"}`,children:[i,e.jsx("span",{className:"absolute -bottom-8 opacity-0 group-hover:opacity-100 transition-opacity text-xs font-medium text-white bg-black/60 px-2 py-1 rounded backdrop-blur-sm whitespace-nowrap pointer-events-none",children:d})]}),_=document.getElementById("root");if(!_)throw new Error("Could not find root element to mount to");const se=F.createRoot(_);se.render(e.jsx(M.StrictMode,{children:e.jsx(te,{})}));
