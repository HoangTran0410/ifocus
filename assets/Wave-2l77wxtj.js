import{g as C}from"./comp-visualizer-dpYbgoWi.js";import"./vendor-7n6RyNsU.js";import"./comp-audiocontroller-C9_egn6F.js";import"./comp-background-2KjCJFop.js";function k({ctx:o,canvas:t,data:h,barCount:f,performanceMode:T=!1,mid:y=0}){const g=t.width/(f-1),n=t.height/2;if(T){const e=C(o,`wave-main-${t.width}-${t.height}`,()=>{const i=o.createLinearGradient(0,0,t.width,0);return i.addColorStop(0,"rgba(99, 102, 241, 0.7)"),i.addColorStop(.5,"rgba(168, 85, 247, 0.7)"),i.addColorStop(1,"rgba(236, 72, 153, 0.7)"),i});o.fillStyle=e,o.beginPath(),o.moveTo(0,n);for(let i=0;i<f;i++){const d=i*g,r=h[i]*t.height*.35,l=n-r;o.lineTo(d,l)}for(let i=f-1;i>=0;i--){const d=i*g,r=h[i]*t.height*.35,l=n+r;o.lineTo(d,l)}o.closePath(),o.fill(),o.strokeStyle="rgba(255, 255, 255, 0.7)",o.lineWidth=2,o.beginPath();for(let i=0;i<f;i++){const d=i*g,r=h[i]*t.height*.35,l=n-r;i===0?o.moveTo(d,l):o.lineTo(d,l)}o.stroke();return}const m=h.reduce((e,i)=>e+i,0)/h.length;for(let e=0;e<3;e++){const i=(e-1)*30;o.beginPath(),o.moveTo(0,n+i),o.lineTo(t.width,n+i),o.strokeStyle=`rgba(99, 102, 241, ${.05+m*.05})`,o.lineWidth=1,o.stroke()}o.shadowColor="rgba(168, 85, 247, 0.5)",o.shadowBlur=20+m*30+y*15;const a=o.createLinearGradient(0,n-t.height*.4,0,n+t.height*.4);a.addColorStop(0,"rgba(236, 72, 153, 0.3)"),a.addColorStop(.5,"rgba(168, 85, 247, 0.4)"),a.addColorStop(1,"rgba(99, 102, 241, 0.3)"),o.beginPath(),o.moveTo(0,n);for(let e=0;e<f;e++){const i=e*g,d=h[e]*t.height*.45,r=n-d;if(e===0)o.lineTo(i,r);else{const l=(e-1)*g,s=(l+i)/2;o.quadraticCurveTo(l,n-h[e-1]*t.height*.45,s,r)}}for(let e=f-1;e>=0;e--){const i=e*g,d=h[e]*t.height*.45,r=n+d;if(e===f-1)o.lineTo(i,r);else{const l=(e+1)*g,s=(l+i)/2;o.quadraticCurveTo(l,n+h[e+1]*t.height*.45,s,r)}}o.closePath(),o.fillStyle=a,o.fill(),o.shadowBlur=0;const S=o.createLinearGradient(0,0,t.width,0);S.addColorStop(0,"rgba(99, 102, 241, 0.75)"),S.addColorStop(.25,"rgba(139, 92, 246, 0.7)"),S.addColorStop(.5,"rgba(168, 85, 247, 0.75)"),S.addColorStop(.75,"rgba(217, 70, 239, 0.7)"),S.addColorStop(1,"rgba(236, 72, 153, 0.75)"),o.fillStyle=S,o.beginPath(),o.moveTo(0,n);for(let e=0;e<f;e++){const i=e*g,d=h[e]*t.height*.35,r=n-d;if(e===0)o.lineTo(i,r);else{const l=(e-1)*g,s=(l+i)/2,p=n-h[e-1]*t.height*.35;o.quadraticCurveTo(l,p,s,(p+r)/2),o.quadraticCurveTo(s,r,i,r)}}for(let e=f-1;e>=0;e--){const i=e*g,d=h[e]*t.height*.35,r=n+d;if(e===f-1)o.lineTo(i,r);else{const l=(e+1)*g,s=(l+i)/2,p=n+h[e+1]*t.height*.35;o.quadraticCurveTo(l,p,s,(p+r)/2),o.quadraticCurveTo(s,r,i,r)}}o.closePath(),o.fill(),o.shadowColor="rgba(255, 255, 255, 0.5)",o.shadowBlur=8,o.beginPath(),o.moveTo(0,n),o.lineTo(t.width,n),o.strokeStyle=`rgba(255, 255, 255, ${.15+m*.2})`,o.lineWidth=1,o.stroke(),o.shadowBlur=0;const u=o.createLinearGradient(0,0,t.width,0);u.addColorStop(0,"rgba(255, 255, 255, 0.9)"),u.addColorStop(.5,"rgba(236, 72, 153, 0.8)"),u.addColorStop(1,"rgba(255, 255, 255, 0.9)"),o.strokeStyle=u,o.lineWidth=2.5,o.lineCap="round",o.lineJoin="round",o.beginPath();for(let e=0;e<f;e++){const i=e*g,d=h[e]*t.height*.35,r=n-d;if(e===0)o.moveTo(i,r);else{const l=(e-1)*g,s=(l+i)/2,p=n-h[e-1]*t.height*.35;o.quadraticCurveTo(l,p,s,(p+r)/2)}}o.stroke(),o.strokeStyle=`rgba(99, 102, 241, ${.5+m*.3})`,o.lineWidth=2,o.beginPath();for(let e=0;e<f;e++){const i=e*g,d=h[e]*t.height*.35,r=n+d;if(e===0)o.moveTo(i,r);else{const l=(e-1)*g,s=(l+i)/2,p=n+h[e-1]*t.height*.35;o.quadraticCurveTo(l,p,s,(p+r)/2)}}o.stroke();for(let e=0;e<f;e++)if(h[e]>.4){const i=e*g,d=h[e]*t.height*.35,r=n-d,l=n+d,s=2+h[e]*4,p=o.createRadialGradient(i,r,0,i,r,s*2);if(p.addColorStop(0,"rgba(255, 255, 255, 0.95)"),p.addColorStop(.4,"rgba(236, 72, 153, 0.6)"),p.addColorStop(1,"rgba(236, 72, 153, 0)"),o.beginPath(),o.arc(i,r,s*2,0,Math.PI*2),o.fillStyle=p,o.fill(),h[e]>.6){const b=o.createRadialGradient(i,l,0,i,l,s*1.5);b.addColorStop(0,"rgba(99, 102, 241, 0.8)"),b.addColorStop(1,"rgba(99, 102, 241, 0)"),o.beginPath(),o.arc(i,l,s*1.5,0,Math.PI*2),o.fillStyle=b,o.fill()}}}export{k as default};
