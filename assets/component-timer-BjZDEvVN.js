import{r as l,j as s,l as v,P as b,R as y}from"./react-vendor-DAgaEvQw.js";import{u as S,T as r}from"./component-audiocontroller-CdJmNcde.js";import"./vendor-Doe1xN7X.js";function B({mode:e,setMode:p}){const[f,c]=S("zen_timer_states",{pomodoro:r.pomodoro,shortBreak:r.shortBreak,longBreak:r.longBreak,clock:r.clock,stopwatch:r.stopwatch}),[i,n]=l.useState(!1),[x,m]=l.useState(new Date),o=f[e],u=t=>{c(a=>({...a,[e]:typeof t=="function"?t(a[e]):t}))};l.useEffect(()=>{if(e==="clock"){const t=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(t)}},[e]),l.useEffect(()=>{n(!1)},[e]),l.useEffect(()=>{let t=null;return e==="stopwatch"&&i?t=window.setInterval(()=>{u(a=>a+1)},1e3):e!=="clock"&&e!=="stopwatch"&&i&&o>0?t=window.setInterval(()=>{u(a=>a-1)},1e3):e!=="stopwatch"&&o===0&&n(!1),()=>{t&&window.clearInterval(t)}},[i,o,e]);const w=()=>n(!i),d=()=>{n(!1),c(t=>({...t,[e]:r[e]}))},h=t=>{const a=Math.floor(t/60),k=t%60;return`${a.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`},g=t=>t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return l.useEffect(()=>{e==="clock"?document.title="iFocus":document.title=`${h(o)} - iFocus`},[o,e]),s.jsxs("div",{className:"group flex flex-col items-center justify-center sm:p-8 p-4 transition-all duration-500 ease-in-out text-white w-full max-w-md mx-auto hover:bg-black/40 hover:backdrop-blur-md rounded-3xl font-sans",children:[s.jsx("div",{className:"flex sm:space-x-2 space-x-1 mb-8 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0 bg-white/10",children:["pomodoro","shortBreak","longBreak","stopwatch","clock"].map(t=>s.jsx("button",{onClick:()=>p(t),className:`px-2 py-1 sm:px-4 sm:py-2 rounded-full text-sm font-semibold transition-all duration-300 ${e===t?"bg-white text-black shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:t==="pomodoro"?"Focus":t==="shortBreak"?"Short":t==="longBreak"?"Long":t==="stopwatch"?"Stopwatch":"Clock"},t))}),s.jsx("div",{className:"timer-display text-7xl sm:text-9xl font-bold tracking-tight mb-8 select-none drop-shadow-2xl transition-transform duration-500 group-hover:scale-105",children:e==="clock"?g(x):h(o)}),e!=="clock"&&s.jsxs("div",{className:"flex items-center space-x-3 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0",children:[s.jsx("button",{onClick:w,className:"bg-white text-black sm:p-6 p-4 rounded-full hover:scale-105 transition-transform shadow-lg active:scale-95",children:i?s.jsx(v,{size:32,fill:"black"}):s.jsx(b,{size:32,fill:"black",className:"ml-1"})}),(e==="stopwatch"?o>0:o<r[e])&&s.jsx("button",{onClick:d,className:"bg-white/10 text-white sm:p-4 p-3 rounded-full hover:bg-white/20 transition-colors",children:s.jsx(y,{size:24})})]})]})}export{B as default};
