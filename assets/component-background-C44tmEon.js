const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vendor-Doe1xN7X.js","./react-vendor-DAgaEvQw.js","./component-effectslayer-DSo6fryA.js"])))=>i.map(i=>d[i]);
import{j as e,L as O,r as u,a as S}from"./react-vendor-DAgaEvQw.js";import{l as L}from"./loadable-vendor-DAwHS16R.js";const A="modulepreload",T=function(t,h){return new URL(t,h).href},C={},R=function(h,d,g){let j=Promise.resolve();if(d&&d.length>0){let a=function(o){return Promise.all(o.map(s=>Promise.resolve(s).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};const n=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),x=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));j=a(d.map(o=>{if(o=T(o,g),o in C)return;C[o]=!0;const s=o.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!g)for(let f=n.length-1;f>=0;f--){const b=n[f];if(b.href===o&&(!s||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":A,s||(l.as="script"),l.crossOrigin="",l.href=o,x&&l.setAttribute("nonce",x),document.head.appendChild(l),s)return new Promise((f,b)=>{l.addEventListener("load",f),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${o}`)))})}))}function y(a){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=a,window.dispatchEvent(n),!n.defaultPrevented)throw a}return j.then(a=>{for(const n of a||[])n.status==="rejected"&&y(n.reason);return h().catch(y)})},I=e.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[100px]",children:e.jsx(O,{className:"w-6 h-6 text-white/50 animate-spin"})}),V=L(()=>R(()=>import("./vendor-Doe1xN7X.js").then(t=>t.Y),__vite__mapDeps([0,1]),import.meta.url),{fallback:I}),Y=L(()=>R(()=>import("./component-effectslayer-DSo6fryA.js"),__vite__mapDeps([2,1,0]),import.meta.url),{fallback:I});function D({scene:t,effect:h="none",isMuted:d=!0,disableYouTube:g=!1,showVideoModal:j=!1,setShowVideoModal:y=a=>{}}){const a=u.useRef(null),[n,c]=u.useState(!1),[x,o]=u.useState(!1),[s,i]=u.useState(!1),p=u.useRef(!1),l=j||s,f=()=>{y(!1),i(!1)},b=r=>{const m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,v=r.match(m);return v&&v[2].length===11?v[2]:null};u.useEffect(()=>(c(!1),y(!1),i(!1),p.current=!1,()=>{a.current=null}),[t.url,y]),u.useEffect(()=>{if(a.current&&t.type==="youtube")try{d?a.current.mute():a.current.unMute()}catch(r){console.warn("Error changing mute state:",r)}},[d,t.type]);const k=u.useCallback(()=>{var r,m,v,E;if(!(!a.current||p.current))try{const w=(m=(r=a.current).getPlayerState)==null?void 0:m.call(r);if(w===void 0)return;w!==1&&w!==3&&((E=(v=a.current).playVideo)==null||E.call(v),setTimeout(()=>{var N,P;if(a.current)try{const _=(P=(N=a.current).getPlayerState)==null?void 0:P.call(N);_!==void 0&&_!==1&&_!==3&&!p.current&&i(!0)}catch(_){console.warn("Error checking player state:",_)}},500))}catch(w){console.warn("Error checking YouTube player state:",w)}},[]);u.useEffect(()=>{if(t.type!=="youtube"||g)return;const r=()=>{k()};return window.addEventListener("click",r),()=>window.removeEventListener("click",r)},[t.type,g,k]);const z=r=>{try{a.current=r.target,d?r.target.mute():r.target.unMute(),r.target.playVideo()}catch(m){console.warn("Error in onPlayerReady:",m)}},F=r=>{try{r.data===1&&(p.current=!0,i(!1))}catch(m){console.warn("Error in onPlayerStateChange:",m)}},$=r=>{console.error("YouTube player error:",r.data),r.data===150||r.data===101?console.warn("Video may be unavailable or embedding restricted"):o(!0)},B={playerVars:{autoplay:1,mute:1,controls:1,loop:1,playlist:t.type==="youtube"&&b(t.url)||"",playsinline:1,showinfo:0,rel:0,iv_load_policy:3,disablekb:1,modestbranding:1}};return e.jsxs("div",{className:"absolute inset-0 w-full h-full -z-10 overflow-hidden transition-all duration-700 ease-in-out bg-black",children:[t.type==="color"&&e.jsx("div",{className:"w-full h-full",style:{backgroundColor:t.url}}),t.type==="gradient"&&e.jsx("div",{className:"w-full h-full",style:{background:t.url}}),t.type==="image"&&e.jsxs(e.Fragment,{children:[t.thumbnail&&!n&&e.jsx("img",{src:t.thumbnail,alt:"background thumbnail",className:"w-full h-full object-cover blur-sm scale-105"}),e.jsx("img",{src:t.url,alt:"background",loading:"eager",onLoad:()=>c(!0),className:`w-full h-full object-cover transition-opacity duration-700 ${n?"opacity-100":"opacity-0"}`,style:{position:t.thumbnail?"absolute":"relative"}}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),(t.type==="video"||t.type==="youtube"&&!g&&!x)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),S.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
                @keyframes modalFadeIn {
                  from { opacity: 0; }
                  to { opacity: 1; }
                }
              `}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm",style:{zIndex:99998,animation:"modalFadeIn 0.3s ease-out forwards"},onClick:f}),e.jsxs("div",{className:l?"fixed w-[80vw] max-w-4xl aspect-video left-1/2 top-1/2 rounded-xl overflow-hidden shadow-2xl border border-white/10 bg-black":"fixed inset-0 w-full h-full",style:l?{zIndex:99999,transform:"translate(-50%, -50%)",animation:"modalFadeIn 0.3s ease-out forwards"}:{zIndex:-1,pointerEvents:"none"},children:[l&&e.jsxs(e.Fragment,{children:[t.type==="youtube"&&s&&!p.current&&e.jsx("div",{className:"absolute top-3 left-3 z-10 px-3 py-1.5 rounded-lg bg-black/60 text-white/90 text-sm",children:"Click the video to start playback"}),e.jsx("button",{onClick:f,className:"absolute top-3 right-3 z-10 w-8 h-8 flex items-center justify-center rounded-full bg-black/60 hover:bg-black/80 text-white/80 hover:text-white transition-all cursor-pointer",children:"âœ•"})]}),t.type==="video"?e.jsx("video",{autoPlay:!0,loop:!0,muted:d,controls:l,playsInline:!0,className:"w-full h-full object-cover",children:e.jsx("source",{src:t.url,type:"video/mp4"})},t.url):e.jsx(V,{videoId:b(t.url)||"",opts:B,onReady:z,onStateChange:F,onError:$,className:"w-full h-full",iframeClassName:`w-full h-full ${l?"":"pointer-events-none"}`,style:{width:"100%",height:"100%"}},t.url)]})]}),document.body)]}),t.type==="youtube"&&(g||x)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full h-full",style:{backgroundColor:"#1a1a1a"}}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),h==="sun-rays"&&e.jsxs("div",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-hidden z-10",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[80vw] h-[80vw] bg-[radial-gradient(circle,rgba(255,220,150,0.4)_0%,rgba(0,0,0,0)_70%)] blur-[80px]"}),e.jsx("div",{className:"absolute -top-[50%] -right-[50%] w-[200%] h-[200%] opacity-40 mix-blend-overlay origin-center animate-[spin_120s_linear_infinite]",children:e.jsx("div",{className:"w-full h-full bg-[conic-gradient(from_0deg_at_50%_50%,rgba(0,0,0,0)_0deg,rgba(255,255,255,0.1)_15deg,rgba(0,0,0,0)_30deg,rgba(255,200,100,0.1)_45deg,rgba(0,0,0,0)_60deg,rgba(255,255,255,0.1)_90deg,rgba(0,0,0,0)_130deg)]"})}),e.jsx("div",{className:"absolute -top-[50%] -right-[50%] w-[200%] h-[200%] opacity-30 mix-blend-soft-light origin-center animate-[spin_180s_linear_infinite_reverse]",children:e.jsx("div",{className:"w-full h-full bg-[conic-gradient(from_180deg_at_50%_50%,rgba(0,0,0,0)_0deg,rgba(255,255,200,0.1)_10deg,rgba(0,0,0,0)_20deg,rgba(255,255,255,0.05)_40deg,rgba(0,0,0,0)_80deg)]"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-transparent to-orange-200/20 mix-blend-screen"})]}),S.createPortal(e.jsx("div",{className:"fixed inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:e.jsx(Y,{type:h})}),document.body)]})}const W=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{W as B,I as L,R as _};
