import{g as C}from"./comp-visualizer-DJVH6qcE.js";import"./vendor-woyHwGIK.js";import"./comp-audiocontroller-DCovXXPR.js";import"./comp-background-ReMPbWO_.js";function w({ctx:e,canvas:r,data:l,barCount:f,performanceMode:y=!1}){const d=r.width/f,s=Math.max(2,d*.15),b=d-s;if(y){const o=C(e,`bars-main-${r.width}-${r.height}`,()=>{const i=e.createLinearGradient(0,r.height,0,0);return i.addColorStop(0,"rgba(99, 102, 241, 0.9)"),i.addColorStop(.5,"rgba(168, 85, 247, 0.85)"),i.addColorStop(1,"rgba(236, 72, 153, 0.85)"),i});e.fillStyle=o;for(let i=0;i<f;i++){const t=l[i]*r.height*.75,h=i*d+s/2,g=r.height-t;e.beginPath(),e.roundRect(h,g,b,t,[4,4,0,0]),e.fill()}return}const a=l.reduce((o,i)=>o+i,0)/l.length;e.strokeStyle=`rgba(99, 102, 241, ${.05+a*.1})`,e.lineWidth=1;const S=5;for(let o=1;o<=S;o++){const i=r.height-r.height/S*o;e.beginPath(),e.moveTo(0,i),e.lineTo(r.width,i),e.stroke()}for(let o=0;o<f;o++){const t=l[o]*r.height*.7*.3,h=o*d+s/2,g=e.createLinearGradient(0,r.height,0,r.height+t);g.addColorStop(0,`rgba(99, 102, 241, ${.15+l[o]*.1})`),g.addColorStop(1,"rgba(99, 102, 241, 0)"),e.fillStyle=g,e.beginPath(),e.roundRect(h,r.height,b,t*.5,[0,0,4,4]),e.fill()}for(let o=0;o<f;o++){const i=l[o]*r.height*.75,t=o*d+s/2,h=r.height-i,g=e.createLinearGradient(t,r.height,t,h);g.addColorStop(0,"rgba(99, 102, 241, 0.95)"),g.addColorStop(.4,"rgba(139, 92, 246, 0.9)"),g.addColorStop(.7,"rgba(168, 85, 247, 0.85)"),g.addColorStop(1,"rgba(236, 72, 153, 0.9)"),l[o]>.4&&(e.shadowColor="rgba(168, 85, 247, 0.6)",e.shadowBlur=10+l[o]*15),e.fillStyle=g,e.beginPath(),e.roundRect(t,h,b,i,[6,6,0,0]),e.fill(),e.shadowBlur=0;const n=e.createLinearGradient(t,h,t+b*.3,h);n.addColorStop(0,`rgba(255, 255, 255, ${.2+l[o]*.2})`),n.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=n,e.beginPath(),e.roundRect(t,h,b*.3,i,[6,0,0,0]),e.fill();const p=b/2-2;i>20&&p>0&&(e.beginPath(),e.arc(t+b/2,h+3,p,Math.PI,0),e.fillStyle=`rgba(255, 255, 255, ${.1+l[o]*.3})`,e.fill())}for(let o=0;o<f;o++)if(l[o]>.5){const i=l[o]*r.height*.75,t=o*d+d/2,h=r.height-i-8,g=2+l[o]*3,n=e.createRadialGradient(t,h,0,t,h,g*2);n.addColorStop(0,"rgba(255, 255, 255, 0.9)"),n.addColorStop(.5,"rgba(236, 72, 153, 0.5)"),n.addColorStop(1,"rgba(236, 72, 153, 0)"),e.beginPath(),e.arc(t,h,g*2,0,Math.PI*2),e.fillStyle=n,e.fill()}e.beginPath(),e.moveTo(0,r.height);for(let o=0;o<f;o++){const i=l[o]*r.height*.75,t=o*d+d/2,h=r.height-i;o===0?e.moveTo(t,h):e.lineTo(t,h)}e.strokeStyle=`rgba(255, 255, 255, ${.2+a*.3})`,e.lineWidth=1.5,e.stroke()}export{w as default};
